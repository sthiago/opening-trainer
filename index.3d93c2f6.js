let e,t,n,r,o;function i(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function s(e){return e&&e.__esModule?e.default:e}var a,l,u,c,f,d,p,h,g,_,m,v,y,b,w,x,A,E,S,T,k,O,C,R,P,L,B,I,M,N,U,j,D,F,$,q,H,z,K,W,G=globalThis,V={},Q={},X=G.parcelRequire94c2;function J(e,t){return function(){return e.apply(t,arguments)}}null==X&&((X=function(e){if(e in V)return V[e].exports;if(e in Q){var t=Q[e];delete Q[e];var n={id:e,exports:{}};return V[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){Q[e]=t},G.parcelRequire94c2=X),(0,X.register)("d0cOj",function(e,t){i(e.exports,"register",()=>n,e=>n=e);var n,r=new Map;n=function(e,t){for(var n=0;n<t.length-1;n+=2)r.set(t[n],{baseUrl:e,path:t[n+1]})}}),X("d0cOj").register(new URL("",import.meta.url).toString(),JSON.parse('["izUj7","index.3d93c2f6.js","2bX9i","LichessMove.9d5724cf.ogg","kaXfY","LichessMove.1fbc6ead.mp3","dpiuP","LichessCapture.906a0b84.ogg","hUF13","LichessCapture.85137d33.mp3","gHnkb","LichessGenericNotify.f5dfe933.ogg","eHGyq","LichessGenericNotify.0c4096bf.mp3"]'));var Y={},Z=Y={};function ee(){throw Error("setTimeout has not been defined")}function et(){throw Error("clearTimeout has not been defined")}function en(e){if(M===setTimeout)return setTimeout(e,0);if((M===ee||!M)&&setTimeout)return M=setTimeout,setTimeout(e,0);try{return M(e,0)}catch(t){try{return M.call(null,e,0)}catch(t){return M.call(this,e,0)}}}!function(){try{M="function"==typeof setTimeout?setTimeout:ee}catch(e){M=ee}try{N="function"==typeof clearTimeout?clearTimeout:et}catch(e){N=et}}();var er=[],eo=!1,ei=-1;function es(){eo&&U&&(eo=!1,U.length?er=U.concat(er):ei=-1,er.length&&ea())}function ea(){if(!eo){var e=en(es);eo=!0;for(var t=er.length;t;){for(U=er,er=[];++ei<t;)U&&U[ei].run();ei=-1,t=er.length}U=null,eo=!1,function(e){if(N===clearTimeout)return clearTimeout(e);if((N===et||!N)&&clearTimeout)return N=clearTimeout,clearTimeout(e);try{N(e)}catch(t){try{return N.call(null,e)}catch(t){return N.call(this,e)}}}(e)}}function el(e,t){this.fun=e,this.array=t}function eu(){}Z.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];er.push(new el(e,t)),1!==er.length||eo||en(ea)},el.prototype.run=function(){this.fun.apply(null,this.array)},Z.title="browser",Z.browser=!0,Z.env={},Z.argv=[],Z.version="",Z.versions={},Z.on=eu,Z.addListener=eu,Z.once=eu,Z.off=eu,Z.removeListener=eu,Z.removeAllListeners=eu,Z.emit=eu,Z.prependListener=eu,Z.prependOnceListener=eu,Z.listeners=function(e){return[]},Z.binding=function(e){throw Error("process.binding is not supported")},Z.cwd=function(){return"/"},Z.chdir=function(e){throw Error("process.chdir is not supported")},Z.umask=function(){return 0};const{toString:ec}=Object.prototype,{getPrototypeOf:ef}=Object,ed=(e=Object.create(null),t=>{let n=ec.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}),ep=e=>(e=e.toLowerCase(),t=>ed(t)===e),eh=e=>t=>typeof t===e,{isArray:eg}=Array,e_=eh("undefined"),em=ep("ArrayBuffer"),ev=eh("string"),ey=eh("function"),eb=eh("number"),ew=e=>null!==e&&"object"==typeof e,ex=e=>{if("object"!==ed(e))return!1;let t=ef(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eA=ep("Date"),eE=ep("File"),eS=ep("Blob"),eT=ep("FileList"),ek=ep("URLSearchParams"),[eO,eC,eR,eP]=["ReadableStream","Request","Response","Headers"].map(ep);function eL(e,t,{allOwnKeys:n=!1}={}){let r,o;if(null!=e){if("object"!=typeof e&&(e=[e]),eg(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{let o;let i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;for(r=0;r<s;r++)o=i[r],t.call(null,e[o],o,e)}}}function eB(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),o=r.length;for(;o-- >0;)if(t===(n=r[o]).toLowerCase())return n;return null}const eI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:G,eM=e=>!e_(e)&&e!==eI,eN=(t="undefined"!=typeof Uint8Array&&ef(Uint8Array),e=>t&&e instanceof t),eU=ep("HTMLFormElement"),ej=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),eD=ep("RegExp"),eF=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};eL(n,(n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)}),Object.defineProperties(e,r)},e$="abcdefghijklmnopqrstuvwxyz",eq="0123456789",eH={DIGIT:eq,ALPHA:e$,ALPHA_DIGIT:e$+e$.toUpperCase()+eq},ez=ep("AsyncFunction"),eK=(a="function"==typeof setImmediate,l=ey(eI.postMessage),a?setImmediate:l?(u=`axios@${Math.random()}`,c=[],eI.addEventListener("message",({source:e,data:t})=>{e===eI&&t===u&&c.length&&c.shift()()},!1),e=>{c.push(e),eI.postMessage(u,"*")}):e=>setTimeout(e)),eW="undefined"!=typeof queueMicrotask?queueMicrotask.bind(eI):void 0!==Y&&Y.nextTick||eK;var eG={isArray:eg,isArrayBuffer:em,isBuffer:function(e){return null!==e&&!e_(e)&&null!==e.constructor&&!e_(e.constructor)&&ey(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ey(e.append)&&("formdata"===(t=ed(e))||"object"===t&&ey(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&em(e.buffer)},isString:ev,isNumber:eb,isBoolean:e=>!0===e||!1===e,isObject:ew,isPlainObject:ex,isReadableStream:eO,isRequest:eC,isResponse:eR,isHeaders:eP,isUndefined:e_,isDate:eA,isFile:eE,isBlob:eS,isRegExp:eD,isFunction:ey,isStream:e=>ew(e)&&ey(e.pipe),isURLSearchParams:ek,isTypedArray:eN,isFileList:eT,forEach:eL,merge:function e(){let{caseless:t}=eM(this)&&this||{},n={},r=(r,o)=>{let i=t&&eB(n,o)||o;ex(n[i])&&ex(r)?n[i]=e(n[i],r):ex(r)?n[i]=e({},r):eg(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&eL(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(eL(t,(t,r)=>{n&&ey(t)?e[r]=J(t,n):e[r]=t},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,s;let a={};if(t=t||{},null==e)return t;do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)s=o[i],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=!1!==n&&ef(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype)return t},kindOf:ed,kindOfTest:ep,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(eg(e))return e;let t=e.length;if(!eb(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n;let r=(e&&e[Symbol.iterator]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n;let r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:eU,hasOwnProperty:ej,hasOwnProp:ej,reduceDescriptors:eF,freezeMethods:e=>{eF(e,(t,n)=>{if(ey(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(ey(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(e=>{e.forEach(e=>{n[e]=!0})})(eg(e)?e:String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:eB,global:eI,isContextDefined:eM,ALPHABET:eH,generateString:(e=16,t=eH.ALPHA_DIGIT)=>{let n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ey(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(ew(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let o=eg(e)?[]:{};return eL(e,(e,t)=>{let i=n(e,r+1);e_(i)||(o[t]=i)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:ez,isThenable:e=>e&&(ew(e)||ey(e))&&ey(e.then)&&ey(e.catch),setImmediate:eK,asap:eW};function eV(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}eG.inherits(eV,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:eG.toJSONObject(this.config),code:this.code,status:this.status}}});const eQ=eV.prototype,eX={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eX[e]={value:e}}),Object.defineProperties(eV,eX),Object.defineProperty(eQ,"isAxiosError",{value:!0}),eV.from=(e,t,n,r,o,i)=>{let s=Object.create(eQ);return eG.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),eV.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s},j=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}(e),o=r[0],i=r[1],s=new eZ((o+i)*3/4-i),a=0,l=i>0?o-4:o;for(n=0;n<l;n+=4)t=eY[e.charCodeAt(n)]<<18|eY[e.charCodeAt(n+1)]<<12|eY[e.charCodeAt(n+2)]<<6|eY[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===i&&(t=eY[e.charCodeAt(n)]<<2|eY[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===i&&(t=eY[e.charCodeAt(n)]<<10|eY[e.charCodeAt(n+1)]<<4|eY[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},D=function(e){for(var t,n=e.length,r=n%3,o=[],i=0,s=n-r;i<s;i+=16383)o.push(function(e,t,n){for(var r,o=[],i=t;i<n;i+=3)o.push(eJ[(r=(e[i]<<16&0xff0000)+(e[i+1]<<8&65280)+(255&e[i+2]))>>18&63]+eJ[r>>12&63]+eJ[r>>6&63]+eJ[63&r]);return o.join("")}(e,i,i+16383>s?s:i+16383));return 1===r?o.push(eJ[(t=e[n-1])>>2]+eJ[t<<4&63]+"=="):2===r&&o.push(eJ[(t=(e[n-2]<<8)+e[n-1])>>10]+eJ[t>>4&63]+eJ[t<<2&63]+"="),o.join("")};for(var eJ=[],eY=[],eZ="undefined"!=typeof Uint8Array?Uint8Array:Array,e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e1=0,e2=e0.length;e1<e2;++e1)eJ[e1]=e0[e1],eY[e0.charCodeAt(e1)]=e1;eY["-".charCodeAt(0)]=62,eY["_".charCodeAt(0)]=63,F=function(e,t,n,r,o){var i,s,a=8*o-r-1,l=(1<<a)-1,u=l>>1,c=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-c)-1,p>>=-c,c+=a;c>0;i=256*i+e[t+f],f+=d,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=r;c>0;s=256*s+e[t+f],f+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},$=function(e,t,n,r,o,i){var s,a,l,u=8*i-o-1,c=(1<<u)-1,f=c>>1,d=23===o?5960464477539062e-23:0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=d/l:t+=d*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*l-1)*Math.pow(2,o),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=h,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+p]=255&s,p+=h,s/=256,u-=8);e[n+p-h]|=128*g};const e5="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function e8(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,e6.prototype),t}function e6(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return e7(e)}return e3(e,t,n)}function e3(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!e6.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|tn(e,t),r=e8(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(tS(e,Uint8Array)){let t=new Uint8Array(e);return te(t.buffer,t.byteOffset,t.byteLength)}return e9(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(tS(e,ArrayBuffer)||e&&tS(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(tS(e,SharedArrayBuffer)||e&&tS(e.buffer,SharedArrayBuffer)))return te(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return e6.from(r,t,n);let o=function(e){var t;if(e6.isBuffer(e)){let t=0|tt(e.length),n=e8(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?e8(0):e9(e):"Buffer"===e.type&&Array.isArray(e.data)?e9(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return e6.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function e4(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function e7(e){return e4(e),e8(e<0?0:0|tt(e))}function e9(e){let t=e.length<0?0:0|tt(e.length),n=e8(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function te(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),e6.prototype),r}function tt(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function tn(e,t){if(e6.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||tS(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return tx(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return tA(e).length;default:if(o)return r?-1:tx(e).length;t=(""+t).toLowerCase(),o=!0}}function tr(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=tT[e[r]];return o}(this,t,n);case"utf8":case"utf-8":return ta(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}(this,t,n);case"base64":var o,i;return o=t,i=n,0===o&&i===this.length?D(this):D(this.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}(this,t,n);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function to(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function ti(e,t,n,r,o){var i;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(i=n=+n)!=i&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return -1;n=e.length-1}else if(n<0){if(!o)return -1;n=0}if("string"==typeof t&&(t=e6.from(t,r)),e6.isBuffer(t))return 0===t.length?-1:ts(e,t,n,r,o);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):ts(e,[t],n,r,o);throw TypeError("val must be string, number or Buffer")}function ts(e,t,n,r,o){let i,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*s}else -1!==r&&(i-=i-r),r=-1}else for(n+l>a&&(n=a-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return -1}function ta(e,t,n){n=Math.min(e.length,n);let r=[],o=t;for(;o<n;){let t=e[o],i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(i=t);break;case 2:(192&(n=e[o+1]))==128&&(l=(31&t)<<6|63&n)>127&&(i=l);break;case 3:n=e[o+1],r=e[o+2],(192&n)==128&&(192&r)==128&&(l=(15&t)<<12|(63&n)<<6|63&r)>2047&&(l<55296||l>57343)&&(i=l);break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],(192&n)==128&&(192&r)==128&&(192&a)==128&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a)>65535&&l<1114112&&(i=l)}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function tl(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function tu(e,t,n,r,o,i){if(!e6.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function tc(e,t,n,r,o){tv(t,r,o,e,n,7);let i=Number(t&BigInt(0xffffffff));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function tf(e,t,n,r,o){tv(t,r,o,e,n,7);let i=Number(t&BigInt(0xffffffff));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function td(e,t,n,r,o,i){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function tp(e,t,n,r,o){return t=+t,n>>>=0,o||td(e,t,n,4,34028234663852886e22,-34028234663852886e22),$(e,t,n,r,23,4),n+4}function th(e,t,n,r,o){return t=+t,n>>>=0,o||td(e,t,n,8,17976931348623157e292,-17976931348623157e292),$(e,t,n,r,52,8),n+8}e6.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),e6.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e6.prototype,"parent",{enumerable:!0,get:function(){if(e6.isBuffer(this))return this.buffer}}),Object.defineProperty(e6.prototype,"offset",{enumerable:!0,get:function(){if(e6.isBuffer(this))return this.byteOffset}}),e6.poolSize=8192,e6.from=function(e,t,n){return e3(e,t,n)},Object.setPrototypeOf(e6.prototype,Uint8Array.prototype),Object.setPrototypeOf(e6,Uint8Array),e6.alloc=function(e,t,n){return(e4(e),e<=0)?e8(e):void 0!==t?"string"==typeof n?e8(e).fill(t,n):e8(e).fill(t):e8(e)},e6.allocUnsafe=function(e){return e7(e)},e6.allocUnsafeSlow=function(e){return e7(e)},e6.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==e6.prototype},e6.compare=function(e,t){if(tS(e,Uint8Array)&&(e=e6.from(e,e.offset,e.byteLength)),tS(t,Uint8Array)&&(t=e6.from(t,t.offset,t.byteLength)),!e6.isBuffer(e)||!e6.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},e6.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e6.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return e6.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=e6.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let t=e[n];if(tS(t,Uint8Array))o+t.length>r.length?(e6.isBuffer(t)||(t=e6.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else if(e6.isBuffer(t))t.copy(r,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=t.length}return r},e6.byteLength=tn,e6.prototype._isBuffer=!0,e6.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)to(this,t,t+1);return this},e6.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)to(this,t,t+3),to(this,t+1,t+2);return this},e6.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)to(this,t,t+7),to(this,t+1,t+6),to(this,t+2,t+5),to(this,t+3,t+4);return this},e6.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?ta(this,0,e):tr.apply(this,arguments)},e6.prototype.toLocaleString=e6.prototype.toString,e6.prototype.equals=function(e){if(!e6.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===e6.compare(this,e)},e6.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},e5&&(e6.prototype[e5]=e6.prototype.inspect),e6.prototype.compare=function(e,t,n,r,o){if(tS(e,Uint8Array)&&(e=e6.from(e,e.offset,e.byteLength)),!e6.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;let i=o-r,s=n-t,a=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n);for(let e=0;e<a;++e)if(l[e]!==u[e]){i=l[e],s=u[e];break}return i<s?-1:s<i?1:0},e6.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},e6.prototype.indexOf=function(e,t,n){return ti(this,e,t,n,!0)},e6.prototype.lastIndexOf=function(e,t,n){return ti(this,e,t,n,!1)},e6.prototype.write=function(e,t,n,r){var o,i,s,a,l,u,c,f;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let d=this.length-t;if((void 0===n||n>d)&&(n=d),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let p=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let o;n=Number(n)||0;let i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;let s=t.length;for(r>s/2&&(r=s/2),o=0;o<r;++o){let r=parseInt(t.substr(2*o,2),16);if(r!=r)break;e[n+o]=r}return o}(this,e,t,n);case"utf8":case"utf-8":return o=t,i=n,tE(tx(e,this.length-o),this,o,i);case"ascii":case"latin1":case"binary":return s=t,a=n,tE(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,a);case"base64":return l=t,u=n,tE(tA(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,f=n,tE(function(e,t){let n,r;let o=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o.push(n%256),o.push(r);return o}(e,this.length-c),this,c,f);default:if(p)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},e6.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e6.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,e6.prototype),r},e6.prototype.readUintLE=e6.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tl(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},e6.prototype.readUintBE=e6.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tl(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},e6.prototype.readUint8=e6.prototype.readUInt8=function(e,t){return e>>>=0,t||tl(e,1,this.length),this[e]},e6.prototype.readUint16LE=e6.prototype.readUInt16LE=function(e,t){return e>>>=0,t||tl(e,2,this.length),this[e]|this[e+1]<<8},e6.prototype.readUint16BE=e6.prototype.readUInt16BE=function(e,t){return e>>>=0,t||tl(e,2,this.length),this[e]<<8|this[e+1]},e6.prototype.readUint32LE=e6.prototype.readUInt32LE=function(e,t){return e>>>=0,t||tl(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},e6.prototype.readUint32BE=e6.prototype.readUInt32BE=function(e,t){return e>>>=0,t||tl(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e6.prototype.readBigUInt64LE=tk(function(e){ty(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tb(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],o=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*n;return BigInt(r)+(BigInt(o)<<BigInt(32))}),e6.prototype.readBigUInt64BE=tk(function(e){ty(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&tb(e,this.length-8);let r=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],o=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),e6.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||tl(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},e6.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||tl(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},e6.prototype.readInt8=function(e,t){return(e>>>=0,t||tl(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},e6.prototype.readInt16LE=function(e,t){e>>>=0,t||tl(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},e6.prototype.readInt16BE=function(e,t){e>>>=0,t||tl(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},e6.prototype.readInt32LE=function(e,t){return e>>>=0,t||tl(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e6.prototype.readInt32BE=function(e,t){return e>>>=0,t||tl(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e6.prototype.readBigInt64LE=tk(function(e){ty(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tb(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),e6.prototype.readBigInt64BE=tk(function(e){ty(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&tb(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+n)}),e6.prototype.readFloatLE=function(e,t){return e>>>=0,t||tl(e,4,this.length),F(this,e,!0,23,4)},e6.prototype.readFloatBE=function(e,t){return e>>>=0,t||tl(e,4,this.length),F(this,e,!1,23,4)},e6.prototype.readDoubleLE=function(e,t){return e>>>=0,t||tl(e,8,this.length),F(this,e,!0,52,8)},e6.prototype.readDoubleBE=function(e,t){return e>>>=0,t||tl(e,8,this.length),F(this,e,!1,52,8)},e6.prototype.writeUintLE=e6.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tu(this,e,t,n,r,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},e6.prototype.writeUintBE=e6.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;tu(this,e,t,n,r,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},e6.prototype.writeUint8=e6.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,1,255,0),this[t]=255&e,t+1},e6.prototype.writeUint16LE=e6.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},e6.prototype.writeUint16BE=e6.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},e6.prototype.writeUint32LE=e6.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},e6.prototype.writeUint32BE=e6.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e6.prototype.writeBigUInt64LE=tk(function(e,t=0){return tc(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),e6.prototype.writeBigUInt64BE=tk(function(e,t=0){return tf(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),e6.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);tu(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},e6.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);tu(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},e6.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},e6.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},e6.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},e6.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},e6.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||tu(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},e6.prototype.writeBigInt64LE=tk(function(e,t=0){return tc(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e6.prototype.writeBigInt64BE=tk(function(e,t=0){return tf(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),e6.prototype.writeFloatLE=function(e,t,n){return tp(this,e,t,!0,n)},e6.prototype.writeFloatBE=function(e,t,n){return tp(this,e,t,!1,n)},e6.prototype.writeDoubleLE=function(e,t,n){return th(this,e,t,!0,n)},e6.prototype.writeDoubleBE=function(e,t,n){return th(this,e,t,!1,n)},e6.prototype.copy=function(e,t,n,r){if(!e6.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},e6.prototype.fill=function(e,t,n,r){let o;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!e6.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{let i=e6.isBuffer(e)?e:e6.from(e,r),s=i.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const tg={};function t_(e,t,n){tg[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function tm(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function tv(e,t,n,r,o,i){if(e>n||e<t){let r;let o="bigint"==typeof t?"n":"";throw r=i>3?0===t||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${(i+1)*8}${o}`:`>= -(2${o} ** ${(i+1)*8-1}${o}) and < 2 ** ${(i+1)*8-1}${o}`:`>= ${t}${o} and <= ${n}${o}`,new tg.ERR_OUT_OF_RANGE("value",r,e)}ty(o,"offset"),(void 0===r[o]||void 0===r[o+i])&&tb(o,r.length-(i+1))}function ty(e,t){if("number"!=typeof e)throw new tg.ERR_INVALID_ARG_TYPE(t,"number",e)}function tb(e,t,n){if(Math.floor(e)!==e)throw ty(e,n),new tg.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new tg.ERR_BUFFER_OUT_OF_BOUNDS;throw new tg.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}t_("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),t_("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),t_("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>0x100000000?o=tm(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=tm(o)),o+="n"),r+=` It must be ${t}. Received ${o}`},RangeError);const tw=/[^+/0-9A-Za-z-_]/g;function tx(e,t){let n;t=t||1/0;let r=e.length,o=null,i=[];for(let s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319||s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return i}function tA(e){return j(function(e){if((e=(e=e.split("=")[0]).trim().replace(tw,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function tE(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length)&&!(o>=e.length);++o)t[o+n]=e[o];return o}function tS(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}const tT=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function tk(e){return"undefined"==typeof BigInt?tO:e}function tO(){throw Error("BigInt not supported")}function tC(e){return eG.isPlainObject(e)||eG.isArray(e)}function tR(e){return eG.endsWith(e,"[]")?e.slice(0,-2):e}function tP(e,t,n){return e?e.concat(t).map(function(e,t){return e=tR(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const tL=eG.toFlatObject(eG,{},null,function(e){return/^is[A-Z]/.test(e)});var tB=function(e,t,n){if(!eG.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=eG.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!eG.isUndefined(t[e])})).metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&eG.isSpecCompliantForm(t);if(!eG.isFunction(o))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(eG.isDate(e))return e.toISOString();if(!a&&eG.isBlob(e))throw new eV("Blob is not supported. Use a Buffer instead.");return eG.isArrayBuffer(e)||eG.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):e6.from(e):e}function u(e,n,o){let a=e;if(e&&!o&&"object"==typeof e){if(eG.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var u;if(eG.isArray(e)&&(u=e,eG.isArray(u)&&!u.some(tC))||(eG.isFileList(e)||eG.endsWith(n,"[]"))&&(a=eG.toArray(e)))return n=tR(n),a.forEach(function(e,r){eG.isUndefined(e)||null===e||t.append(!0===s?tP([n],r,i):null===s?n:n+"[]",l(e))}),!1}}return!!tC(e)||(t.append(tP(o,n,i),l(e)),!1)}let c=[],f=Object.assign(tL,{defaultVisitor:u,convertValue:l,isVisitable:tC});if(!eG.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!eG.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),eG.forEach(n,function(n,i){!0===(!(eG.isUndefined(n)||null===n)&&o.call(t,n,eG.isString(i)?i.trim():i,r,f))&&e(n,r?r.concat(i):[i])}),c.pop()}}(e),t};function tI(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function tM(e,t){this._pairs=[],e&&tB(e,this,t)}const tN=tM.prototype;function tU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tj(e,t,n){let r;if(!t)return e;let o=n&&n.encode||tU;eG.isFunction(n)&&(n={serialize:n});let i=n&&n.serialize;if(r=i?i(t,n):eG.isURLSearchParams(t)?t.toString():new tM(t,n).toString(o)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}tN.append=function(e,t){this._pairs.push([e,t])},tN.toString=function(e){let t=e?function(t){return e.call(this,t,tI)}:tI;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var tD=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){eG.forEach(this.handlers,function(t){null!==t&&e(t)})}},tF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t$="undefined"!=typeof URLSearchParams?URLSearchParams:tM,tq="undefined"!=typeof FormData?FormData:null,tH="undefined"!=typeof Blob?Blob:null,tz={};i(tz,"hasBrowserEnv",()=>tK),i(tz,"navigator",()=>tW),i(tz,"hasStandardBrowserEnv",()=>tG),i(tz,"hasStandardBrowserWebWorkerEnv",()=>tV),i(tz,"origin",()=>tQ);const tK="undefined"!=typeof window&&"undefined"!=typeof document,tW="object"==typeof navigator&&navigator||void 0,tG=tK&&(!tW||0>["ReactNative","NativeScript","NS"].indexOf(tW.product)),tV="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,tQ=tK&&window.location.href||"http://localhost";var tX={...tz,isBrowser:!0,classes:{URLSearchParams:t$,FormData:tq,Blob:tH},protocols:["http","https","file","blob","url","data"]},tJ=function(e){if(eG.isFormData(e)&&eG.isFunction(e.entries)){let t={};return eG.forEachEntry(e,(e,n)=>{!function e(t,n,r,o){let i=t[o++];if("__proto__"===i)return!0;let s=Number.isFinite(+i),a=o>=t.length;return(i=!i&&eG.isArray(r)?r.length:i,a)?eG.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n:(r[i]&&eG.isObject(r[i])||(r[i]=[]),e(t,n,r[i],o)&&eG.isArray(r[i])&&(r[i]=function(e){let t,n;let r={},o=Object.keys(e),i=o.length;for(t=0;t<i;t++)r[n=o[t]]=e[n];return r}(r[i]))),!s}(eG.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null};const tY={transitional:tF,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){let n;let r=t.getContentType()||"",o=r.indexOf("application/json")>-1,i=eG.isObject(e);if(i&&eG.isHTMLForm(e)&&(e=new FormData(e)),eG.isFormData(e))return o?JSON.stringify(tJ(e)):e;if(eG.isArrayBuffer(e)||eG.isBuffer(e)||eG.isStream(e)||eG.isFile(e)||eG.isBlob(e)||eG.isReadableStream(e))return e;if(eG.isArrayBufferView(e))return e.buffer;if(eG.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1){var s,a;return(s=e,a=this.formSerializer,tB(s,new tX.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return tX.isNode&&eG.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=eG.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return tB(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||o?(t.setContentType("application/json",!1),function(e,t,n){if(eG.isString(e))try{return(0,JSON.parse)(e),eG.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||tY.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(eG.isResponse(e)||eG.isReadableStream(e))return e;if(e&&eG.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw eV.from(e,eV.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tX.classes.FormData,Blob:tX.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};eG.forEach(["delete","get","head","post","put","patch"],e=>{tY.headers[e]={}});const tZ=eG.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var t0=e=>{let t,n,r;let o={};return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||o[t]&&tZ[t]||("set-cookie"===t?o[t]?o[t].push(n):o[t]=[n]:o[t]=o[t]?o[t]+", "+n:n)}),o};const t1=Symbol("internals");function t2(e){return e&&String(e).trim().toLowerCase()}function t5(e){return!1===e||null==e?e:eG.isArray(e)?e.map(t5):String(e)}const t8=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function t6(e,t,n,r,o){if(eG.isFunction(r))return r.call(this,t,n);if(o&&(t=n),eG.isString(t)){if(eG.isString(r))return -1!==t.indexOf(r);if(eG.isRegExp(r))return r.test(t)}}class t3{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function o(e,t,n){let o=t2(t);if(!o)throw Error("header name must be a non-empty string");let i=eG.findKey(r,o);i&&void 0!==r[i]&&!0!==n&&(void 0!==n||!1===r[i])||(r[i||t]=t5(e))}let i=(e,t)=>eG.forEach(e,(e,n)=>o(e,n,t));if(eG.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(eG.isString(e)&&(e=e.trim())&&!t8(e))i(t0(e),t);else if(eG.isHeaders(e))for(let[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=t2(e)){let n=eG.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t)return function(e){let t;let n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}(e);if(eG.isFunction(t))return t.call(this,e,n);if(eG.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=t2(e)){let n=eG.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||t6(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function o(e){if(e=t2(e)){let o=eG.findKey(n,e);o&&(!t||t6(n,n[o],o,t))&&(delete n[o],r=!0)}}return eG.isArray(e)?e.forEach(o):o(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let o=t[n];(!e||t6(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){let t=this,n={};return eG.forEach(this,(r,o)=>{let i=eG.findKey(n,o);if(i){t[i]=t5(r),delete t[o];return}let s=e?o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(o).trim();s!==o&&delete t[o],t[s]=t5(r),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return eG.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&eG.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){let t=(this[t1]=this[t1]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=t2(e);t[r]||(!function(e,t){let n=eG.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return eG.isArray(e)?e.forEach(r):r(e),this}}function t4(e,t){let n=this||tY,r=t||n,o=t3.from(r.headers),i=r.data;return eG.forEach(e,function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function t7(e){return!!(e&&e.__CANCEL__)}function t9(e,t,n){eV.call(this,null==e?"canceled":e,eV.ERR_CANCELED,t,n),this.name="CanceledError"}function ne(e,t,n){let r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new eV("Request failed with status code "+n.status,[eV.ERR_BAD_REQUEST,eV.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}t3.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),eG.reduceDescriptors(t3.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),eG.freezeMethods(t3),eG.inherits(t9,eV,{__CANCEL__:!0});var nt=function(e,t){let n;let r=Array(e=e||10),o=Array(e),i=0,s=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),u=o[s];n||(n=l),r[i]=a,o[i]=l;let c=s,f=0;for(;c!==i;)f+=r[c++],c%=e;if((i=(i+1)%e)===s&&(s=(s+1)%e),l-n<t)return;let d=u&&l-u;return d?Math.round(1e3*f/d):void 0}},nn=function(e,t){let n,r,o=0,i=1e3/t,s=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{let t=Date.now(),a=t-o;a>=i?s(e,t):(n=e,r||(r=setTimeout(()=>{r=null,s(n)},i-a)))},()=>n&&s(n)]};const nr=(e,t,n=3)=>{let r=0,o=nt(50,250);return nn(n=>{let i=n.loaded,s=n.lengthComputable?n.total:void 0,a=i-r,l=o(a);r=i,e({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},no=(e,t)=>{let n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ni=e=>(...t)=>eG.asap(()=>e(...t));var ns=tX.hasStandardBrowserEnv?(n=new URL(tX.origin),r=tX.navigator&&/(msie|trident)/i.test(tX.navigator.userAgent),e=>(e=new URL(e,tX.origin),n.protocol===e.protocol&&n.host===e.host&&(r||n.port===e.port))):()=>!0,na=tX.hasStandardBrowserEnv?{write(e,t,n,r,o,i){let s=[e+"="+encodeURIComponent(t)];eG.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),eG.isString(r)&&s.push("path="+r),eG.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function nl(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}const nu=e=>e instanceof t3?{...e}:e;function nc(e,t){t=t||{};let n={};function r(e,t,n,r){return eG.isPlainObject(e)&&eG.isPlainObject(t)?eG.merge.call({caseless:r},e,t):eG.isPlainObject(t)?eG.merge({},t):eG.isArray(t)?t.slice():t}function o(e,t,n,o){return eG.isUndefined(t)?eG.isUndefined(e)?void 0:r(void 0,e,n,o):r(e,t,n,o)}function i(e,t){if(!eG.isUndefined(t))return r(void 0,t)}function s(e,t){return eG.isUndefined(t)?eG.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}let l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>o(nu(e),nu(t),n,!0)};return eG.forEach(Object.keys(Object.assign({},e,t)),function(r){let i=l[r]||o,s=i(e[r],t[r],r);eG.isUndefined(s)&&i!==a||(n[r]=s)}),n}var nf=e=>{let t;let n=nc({},e),{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=n;if(n.headers=a=t3.from(a),n.url=tj(nl(n.baseURL,n.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),eG.isFormData(r)){if(tX.hasStandardBrowserEnv||tX.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(t=a.getContentType())){let[e,...n]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...n].join("; "))}}if(tX.hasStandardBrowserEnv&&(o&&eG.isFunction(o)&&(o=o(n)),o||!1!==o&&ns(n.url))){let e=i&&s&&na.read(s);e&&a.set(i,e)}return n},nd="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,o,i,s,a;let l=nf(e),u=l.data,c=t3.from(l.headers).normalize(),{responseType:f,onUploadProgress:d,onDownloadProgress:p}=l;function h(){s&&s(),a&&a(),l.cancelToken&&l.cancelToken.unsubscribe(r),l.signal&&l.signal.removeEventListener("abort",r)}let g=new XMLHttpRequest;function _(){if(!g)return;let r=t3.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());ne(function(e){t(e),h()},function(e){n(e),h()},{data:f&&"text"!==f&&"json"!==f?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g}),g=null}g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout,"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(_)},g.onabort=function(){g&&(n(new eV("Request aborted",eV.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new eV("Network Error",eV.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",r=l.transitional||tF;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),n(new eV(t,r.clarifyTimeoutError?eV.ETIMEDOUT:eV.ECONNABORTED,e,g)),g=null},void 0===u&&c.setContentType(null),"setRequestHeader"in g&&eG.forEach(c.toJSON(),function(e,t){g.setRequestHeader(t,e)}),eG.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),f&&"json"!==f&&(g.responseType=l.responseType),p&&([i,a]=nr(p,!0),g.addEventListener("progress",i)),d&&g.upload&&([o,s]=nr(d),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",s)),(l.cancelToken||l.signal)&&(r=t=>{g&&(n(!t||t.type?new t9(null,e,g):t),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(r),l.signal&&(l.signal.aborted?r():l.signal.addEventListener("abort",r)));let m=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);if(m&&-1===tX.protocols.indexOf(m)){n(new eV("Unsupported protocol "+m+":",eV.ERR_BAD_REQUEST,e));return}g.send(u||null)})},np=(e,t)=>{let{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController,o=function(e){if(!n){n=!0,s();let t=e instanceof Error?e:this.reason;r.abort(t instanceof eV?t:new t9(t instanceof Error?t.message:t))}},i=t&&setTimeout(()=>{i=null,o(new eV(`timeout ${t} of ms exceeded`,eV.ETIMEDOUT))},t),s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));let{signal:a}=r;return a.unsubscribe=()=>eG.asap(s),a}};const nh=function*(e,t){let n,r=e.byteLength;if(!t||r<t){yield e;return}let o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},ng=async function*(e,t){for await(let n of n_(e))yield*nh(n,t)},n_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}let t=e.getReader();try{for(;;){let{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},nm=(e,t,n,r)=>{let o;let i=ng(e,t),s=0,a=e=>{!o&&(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{let{done:t,value:r}=await i.next();if(t){a(),e.close();return}let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw a(e),e}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},nv="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ny=nv&&"function"==typeof ReadableStream,nb=nv&&("function"==typeof TextEncoder?(o=new TextEncoder,e=>o.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nw=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},nx=ny&&nw(()=>{let e=!1,t=new Request(tX.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nA=ny&&nw(()=>eG.isReadableStream(new Response("").body)),nE={stream:nA&&(e=>e.body)};nv&&(f=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{nE[e]||(nE[e]=eG.isFunction(f[e])?t=>t[e]():(t,n)=>{throw new eV(`Response type '${e}' is not supported`,eV.ERR_NOT_SUPPORT,n)})}));const nS=async e=>{if(null==e)return 0;if(eG.isBlob(e))return e.size;if(eG.isSpecCompliantForm(e)){let t=new Request(tX.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return eG.isArrayBufferView(e)||eG.isArrayBuffer(e)?e.byteLength:(eG.isURLSearchParams(e)&&(e+=""),eG.isString(e))?(await nb(e)).byteLength:void 0},nT=async(e,t)=>{let n=eG.toFiniteNumber(e.getContentLength());return null==n?nS(t):n},nk={http:null,xhr:nd,fetch:nv&&(async e=>{let t,n,{url:r,method:o,data:i,signal:s,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:c,responseType:f,headers:d,withCredentials:p="same-origin",fetchOptions:h}=nf(e);f=f?(f+"").toLowerCase():"text";let g=np([s,a&&a.toAbortSignal()],l),_=g&&g.unsubscribe&&(()=>{g.unsubscribe()});try{if(c&&nx&&"get"!==o&&"head"!==o&&0!==(n=await nT(d,i))){let e,t=new Request(r,{method:"POST",body:i,duplex:"half"});if(eG.isFormData(i)&&(e=t.headers.get("content-type"))&&d.setContentType(e),t.body){let[e,r]=no(n,nr(ni(c)));i=nm(t.body,65536,e,r)}}eG.isString(p)||(p=p?"include":"omit");let s="credentials"in Request.prototype;t=new Request(r,{...h,signal:g,method:o.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:s?p:void 0});let a=await fetch(t),l=nA&&("stream"===f||"response"===f);if(nA&&(u||l&&_)){let e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});let t=eG.toFiniteNumber(a.headers.get("content-length")),[n,r]=u&&no(t,nr(ni(u),!0))||[];a=new Response(nm(a.body,65536,n,()=>{r&&r(),_&&_()}),e)}f=f||"text";let m=await nE[eG.findKey(nE,f)||"text"](a,e);return!l&&_&&_(),await new Promise((n,r)=>{ne(n,r,{data:m,headers:t3.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:t})})}catch(n){if(_&&_(),n&&"TypeError"===n.name&&/fetch/i.test(n.message))throw Object.assign(new eV("Network Error",eV.ERR_NETWORK,e,t),{cause:n.cause||n});throw eV.from(n,n&&n.code,e,t)}})};eG.forEach(nk,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const nO=e=>`- ${e}`,nC=e=>eG.isFunction(e)||null===e||!1===e;var nR=e=>{let t,n;let{length:r}=e=eG.isArray(e)?e:[e],o={};for(let i=0;i<r;i++){let r;if(n=t=e[i],!nC(t)&&void 0===(n=nk[(r=String(t)).toLowerCase()]))throw new eV(`Unknown adapter '${r}'`);if(n)break;o[r||"#"+i]=n}if(!n){let e=Object.entries(o).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new eV("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(nO).join("\n"):" "+nO(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function nP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new t9(null,e)}function nL(e){return nP(e),e.headers=t3.from(e.headers),e.data=t4.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),nR(e.adapter||tY.adapter)(e).then(function(t){return nP(e),t.data=t4.call(e,e.transformResponse,t),t.headers=t3.from(t.headers),t},function(t){return!t7(t)&&(nP(e),t&&t.response&&(t.response.data=t4.call(e,e.transformResponse,t.response),t.response.headers=t3.from(t.response.headers))),Promise.reject(t)})}const nB="1.7.8",nI={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nI[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const nM={};nI.transitional=function(e,t,n){function r(e,t){return"[Axios v"+nB+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new eV(r(o," has been removed"+(t?" in "+t:"")),eV.ERR_DEPRECATED);return t&&!nM[o]&&(nM[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},nI.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};var nN={assertOptions:function(e,t,n){if("object"!=typeof e)throw new eV("options must be an object",eV.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),o=r.length;for(;o-- >0;){let i=r[o],s=t[i];if(s){let t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new eV("option "+i+" must be "+n,eV.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new eV("Unknown option "+i,eV.ERR_BAD_OPTION)}},validators:nI};const nU=nN.validators;class nj{constructor(e){this.defaults=e,this.interceptors={request:new tD,response:new tD}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:o,paramsSerializer:i,headers:s}=t=nc(this.defaults,t);void 0!==o&&nN.assertOptions(o,{silentJSONParsing:nU.transitional(nU.boolean),forcedJSONParsing:nU.transitional(nU.boolean),clarifyTimeoutError:nU.transitional(nU.boolean)},!1),null!=i&&(eG.isFunction(i)?t.paramsSerializer={serialize:i}:nN.assertOptions(i,{encode:nU.function,serialize:nU.function},!0)),nN.assertOptions(t,{baseUrl:nU.spelling("baseURL"),withXsrfToken:nU.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&eG.merge(s.common,s[t.method]);s&&eG.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=t3.concat(a,s);let l=[],u=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(u=u&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let c=[];this.interceptors.response.forEach(function(e){c.push(e.fulfilled,e.rejected)});let f=0;if(!u){let e=[nL.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,c),r=e.length,n=Promise.resolve(t);f<r;)n=n.then(e[f++],e[f++]);return n}r=l.length;let d=t;for(f=0;f<r;){let e=l[f++],t=l[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{n=nL.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,r=c.length;f<r;)n=n.then(c[f++],c[f++]);return n}getUri(e){return tj(nl((e=nc(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}eG.forEach(["delete","get","head","options"],function(e){nj.prototype[e]=function(t,n){return this.request(nc(n||{},{method:e,url:t,data:(n||{}).data}))}}),eG.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(nc(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nj.prototype[e]=t(),nj.prototype[e+"Form"]=t(!0)});class nD{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;let r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new t9(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){let e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nD(function(t){e=t}),cancel:e}}}const nF={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nF).forEach(([e,t])=>{nF[t]=e});const n$=function e(t){let n=new nj(t),r=J(nj.prototype.request,n);return eG.extend(r,nj.prototype,n,{allOwnKeys:!0}),eG.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(nc(t,n))},r}(tY);n$.Axios=nj,n$.CanceledError=t9,n$.CancelToken=nD,n$.isCancel=t7,n$.VERSION=nB,n$.toFormData=tB,n$.AxiosError=eV,n$.Cancel=n$.CanceledError,n$.all=function(e){return Promise.all(e)},n$.spread=function(e){return function(t){return e.apply(null,t)}},n$.isAxiosError=function(e){return eG.isObject(e)&&!0===e.isAxiosError},n$.mergeConfig=nc,n$.AxiosHeaders=t3,n$.formToJSON=e=>tJ(eG.isHTMLForm(e)?new FormData(e):e),n$.getAdapter=nR,n$.HttpStatusCode=nF,n$.default=n$;const{Axios:nq,AxiosError:nH,CanceledError:nz,isCancel:nK,CancelToken:nW,VERSION:nG,all:nV,Cancel:nQ,isAxiosError:nX,spread:nJ,toFormData:nY,AxiosHeaders:nZ,HttpStatusCode:n0,formToJSON:n1,getAdapter:n2,mergeConfig:n5}=n$;var n8=!1,n6=!1,n3=[],n4=-1;function n7(e){let t=n3.indexOf(e);-1!==t&&t>n4&&n3.splice(t,1)}function n9(){n8=!1,n6=!0;for(let e=0;e<n3.length;e++)n3[e](),n4=e;n3.length=0,n4=-1,n6=!1}var re=!0;function rt(e,t){let n,r=!0,o=H(()=>{let o=e();JSON.stringify(o),r?n=o:queueMicrotask(()=>{t(o,n),n=o}),r=!1});return()=>z(o)}var rn=[],rr=[],ro=[];function ri(e,t){"function"==typeof t?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,rr.push(t))}function rs(e){rn.push(e)}function ra(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function rl(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach(e=>e()),delete e._x_attributeCleanups[n])})}var ru=new MutationObserver(rm),rc=!1;function rf(){ru.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),rc=!0}function rd(){let e,t;e=ru.takeRecords(),rp.push(()=>e.length>0&&rm(e)),t=rp.length,queueMicrotask(()=>{if(rp.length===t)for(;rp.length>0;)rp.shift()()}),ru.disconnect(),rc=!1}var rp=[];function rh(e){if(!rc)return e();rd();let t=e();return rf(),t}var rg=!1,r_=[];function rm(e){if(rg){r_=r_.concat(e);return}let t=[],n=/* @__PURE__ */new Set,r=/* @__PURE__ */new Map,o=/* @__PURE__ */new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&("childList"===e[i].type&&(e[i].removedNodes.forEach(e=>{1===e.nodeType&&e._x_marker&&n.add(e)}),e[i].addedNodes.forEach(e=>{if(1===e.nodeType){if(n.has(e)){n.delete(e);return}e._x_marker||t.push(e)}})),"attributes"===e[i].type)){let t=e[i].target,n=e[i].attributeName,s=e[i].oldValue,a=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},l=()=>{o.has(t)||o.set(t,[]),o.get(t).push(n)};t.hasAttribute(n)&&null===s?a():t.hasAttribute(n)?(l(),a()):l()}for(let e of(o.forEach((e,t)=>{rl(t,e)}),r.forEach((e,t)=>{rn.forEach(n=>n(t,e))}),n))t.some(t=>t.contains(e))||rr.forEach(t=>t(e));for(let e of t)e.isConnected&&ro.forEach(t=>t(e));t=null,n=null,r=null,o=null}function rv(e){return rw(rb(e))}function ry(e,t,n){return e._x_dataStack=[t,...rb(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(e=>e!==t)}}function rb(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?rb(e.host):e.parentNode?rb(e.parentNode):[]}function rw(e){return new Proxy({objects:e},rx)}var rx={ownKeys:({objects:e})=>Array.from(new Set(e.flatMap(e=>Object.keys(e)))),has:({objects:e},t)=>t!=Symbol.unscopables&&e.some(e=>Object.prototype.hasOwnProperty.call(e,t)||Reflect.has(e,t)),get:({objects:e},t,n)=>"toJSON"==t?rA:Reflect.get(e.find(e=>Reflect.has(e,t))||{},t,n),set({objects:e},t,n,r){let o=e.find(e=>Object.prototype.hasOwnProperty.call(e,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(o,t);return i?.set&&i?.get?i.set.call(r,n)||!0:Reflect.set(o,t,n)}};function rA(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function rE(e){let t=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,n=(r,o="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([i,{value:s,enumerable:a}])=>{if(!1===a||void 0===s||"object"==typeof s&&null!==s&&s.__v_skip)return;let l=""===o?i:`${o}.${i}`;"object"==typeof s&&null!==s&&s._x_interceptor?r[i]=s.initialize(e,l,i):!t(s)||s===r||s instanceof Element||n(s,l)})};return n(e)}function rS(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,()=>n.split(".").reduce((e,t)=>e[t],t),e=>(function e(t,n,r){if("string"==typeof n&&(n=n.split(".")),1===n.length)t[n[0]]=r;else if(0!==n.length)return t[n[0]]||(t[n[0]]={}),e(t[n[0]],n.slice(1),r);else throw error})(t,n,e),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,o,i)=>{let s=e.initialize(r,o,i);return n.initialValue=s,t(r,o,i)}}else n.initialValue=e;return n}}var rT={};function rk(e,t){let n=function(e){let[t,n]=rG(e),r={interceptor:rS,...t};return ri(e,n),r}(t);return Object.entries(rT).forEach(([r,o])=>{Object.defineProperty(e,`$${r}`,{get:()=>o(t,n),enumerable:!1})}),e}function rO(e,t,n,...r){try{return n(...r)}catch(n){rC(n,e,t)}}function rC(e,t,n){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout(()=>{throw e},0)}var rR=!0;function rP(e){let t=rR;rR=!1;let n=e();return rR=t,n}function rL(e,t,n={}){let r;return rB(e,t)(e=>r=e,n),r}function rB(...e){return rI(...e)}var rI=rM;function rM(e,t){let n,r={};rk(r,e);let o=[r,...rb(e)],i="function"==typeof t?(e=()=>{},{scope:n={},params:r=[]}={})=>{rU(e,t.apply(rw([n,...o]),r))}:(n=function(e,t){if(rN[e])return rN[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,o=(()=>{try{let t=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(t,"name",{value:`[Alpine] ${e}`}),t}catch(n){return rC(n,t,e),Promise.resolve()}})();return rN[e]=o,o}(t,e),(r=()=>{},{scope:i={},params:s=[]}={})=>{n.result=void 0,n.finished=!1;let a=rw([i,...o]);if("function"==typeof n){let o=n(n,a).catch(n=>rC(n,e,t));n.finished?(rU(r,n.result,a,s,e),n.result=void 0):o.then(t=>{rU(r,t,a,s,e)}).catch(n=>rC(n,e,t)).finally(()=>n.result=void 0)}});return rO.bind(null,e,t,i)}var rN={};function rU(e,t,n,r,o){if(rR&&"function"==typeof t){let i=t.apply(n,r);i instanceof Promise?i.then(t=>rU(e,t,n,r)).catch(e=>rC(e,o,t)):e(i)}else"object"==typeof t&&t instanceof Promise?t.then(t=>e(t)):e(t)}var rj="x-";function rD(e=""){return rj+e}var rF={};function r$(e,t){return rF[e]=t,{before(t){if(!rF[t]){console.warn(String.raw`Cannot find directive \`${t}\`. \`${e}\` will use the default order of execution`);return}let n=r1.indexOf(t);r1.splice(n>=0?n:r1.indexOf("DEFAULT"),0,e)}}}function rq(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let n=Object.entries(e._x_virtualDirectives).map(([e,t])=>({name:e,value:t})),r=rH(n);n=n.map(e=>r.find(t=>t.name===e.name)?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e),t=t.concat(n)}let r={};return t.map(rQ((e,t)=>r[e]=t)).filter(rY).map(({name:e,value:t})=>{let o=e.match(rZ()),i=e.match(/:([a-zA-Z0-9\-_:]+)/),s=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=n||r[e]||e;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:s.map(e=>e.replace(".","")),expression:t,original:a}}).sort(r2).map(t=>(function(e,t){let n=rF[t.type]||(()=>{}),[r,o]=rG(e);ra(e,t.original,o);let i=()=>{e._x_ignore||e._x_ignoreSelf||(n.inline&&n.inline(e,t,r),n=n.bind(n,e,t,r),rz?rK.get(rW).push(n):n())};return i.runCleanups=o,i})(e,t))}function rH(e){return Array.from(e).map(rQ()).filter(e=>!rY(e))}var rz=!1,rK=/* @__PURE__ */new Map,rW=Symbol();function rG(e){let t,n=[],[r,o]=(t=()=>{},[n=>{let r=H(n);return e._x_effects||(e._x_effects=/* @__PURE__ */new Set,e._x_runEffects=()=>{e._x_effects.forEach(e=>e())}),e._x_effects.add(r),t=()=>{void 0!==r&&(e._x_effects.delete(r),z(r))},r},()=>{t()}]);return n.push(o),[{Alpine:oq,effect:r,cleanup:e=>n.push(e),evaluateLater:rB.bind(rB,e),evaluate:rL.bind(rL,e)},()=>n.forEach(e=>e())]}var rV=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function rQ(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:o}=rX.reduce((e,t)=>t(e),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:o}}}var rX=[];function rJ(e){rX.push(e)}function rY({name:e}){return rZ().test(e)}var rZ=()=>RegExp(`^${rj}([^:^.]+)\\b`),r0="DEFAULT",r1=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",r0,"teleport"];function r2(e,t){let n=-1===r1.indexOf(e.type)?r0:e.type,r=-1===r1.indexOf(t.type)?r0:t.type;return r1.indexOf(n)-r1.indexOf(r)}function r5(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function r8(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot){Array.from(e.children).forEach(e=>r8(e,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)r8(r,t,!1),r=r.nextElementSibling}function r6(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var r3=!1,r4=[],r7=[];function r9(){return r4.map(e=>e())}function oe(){return r4.concat(r7).map(e=>e())}function ot(e){r4.push(e)}function on(e){r7.push(e)}function or(e,t=!1){return oo(e,e=>{if((t?oe():r9()).some(t=>e.matches(t)))return!0})}function oo(e,t){return e?t(e)?e:(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)?oo(e.parentElement,t):void 0:void 0}var oi=[],os=1;function oa(e,t=r8,n=()=>{}){if(!oo(e,e=>e._x_ignore)){var r;let o,i;r=()=>{t(e,(e,t)=>{!e._x_marker&&(n(e,t),oi.forEach(n=>n(e,t)),rq(e,e.attributes).forEach(e=>e()),e._x_ignore||(e._x_marker=os++),e._x_ignore&&t())})},rz=!0,rW=o=Symbol(),rK.set(o,[]),r(i=()=>{for(;rK.get(o).length;)rK.get(o).shift()();rK.delete(o)}),rz=!1,i()}}function ol(e,t=r8){t(e,e=>{!function(e){for(e._x_effects?.forEach(n7);e._x_cleanups?.length;)e._x_cleanups.pop()()}(e),rl(e),delete e._x_marker})}var ou=[],oc=!1;function of(e=()=>{}){return queueMicrotask(()=>{oc||setTimeout(()=>{od()})}),new Promise(t=>{ou.push(()=>{e(),t()})})}function od(){for(oc=!1;ou.length;)ou.shift()()}function op(e,t){if(Array.isArray(t))return oh(e,t.join(" "));if("object"==typeof t&&null!==t){let n,r,o,i,s;return n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([e,t])=>!!t&&n(e)).filter(Boolean),o=Object.entries(t).flatMap(([e,t])=>!t&&n(e)).filter(Boolean),i=[],s=[],o.forEach(t=>{e.classList.contains(t)&&(e.classList.remove(t),s.push(t))}),r.forEach(t=>{e.classList.contains(t)||(e.classList.add(t),i.push(t))}),()=>{s.forEach(t=>e.classList.add(t)),i.forEach(t=>e.classList.remove(t))}}return"function"==typeof t?op(e,t()):oh(e,t)}function oh(e,t){var n;return n=(t=!0===t?t="":t||"").split(" ").filter(t=>!e.classList.contains(t)).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)}}function og(e,t){let n,r;return"object"==typeof t&&null!==t?(n={},Object.entries(t).forEach(([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)}),setTimeout(()=>{0===e.style.length&&e.removeAttribute("style")}),()=>{og(e,n)}):(r=e.getAttribute("style",t),e.setAttribute("style",t),()=>{e.setAttribute("style",r||"")})}function o_(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function om(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=()=>{},r=()=>{}){ov(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=()=>{},r=()=>{}){ov(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function ov(e,t,{during:n,start:r,end:o}={},i=()=>{},s=()=>{}){var a;let l,u,c,f,d,p,h;if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(o).length){i(),s();return}a={start(){l=t(e,r)},during(){u=t(e,n)},before:i,end(){l(),c=t(e,o)},after:s,cleanup(){u(),c()}},h=o_(()=>{rh(()=>{f=!0,d||a.before(),p||(a.end(),od()),a.after(),e.isConnected&&a.cleanup(),delete e._x_transitioning})}),e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:o_(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();h()}),finish:h},rh(()=>{a.start(),a.during()}),oc=!0,requestAnimationFrame(()=>{if(f)return;let t=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),n=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===t&&(t=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),rh(()=>{a.before()}),d=!0,requestAnimationFrame(()=>{f||(rh(()=>{a.end()}),od(),setTimeout(e._x_transitioning.finish,t+n),p=!0)})})}function oy(e,t,n){if(-1===e.indexOf(t))return n;let r=e[e.indexOf(t)+1];if(!r||"scale"===t&&isNaN(r))return n;if("duration"===t||"delay"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}r$("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:o})=>{var i,s;let a,l,u,c,f,d,p,h,g,_,m,v,y,b;"function"==typeof r&&(r=o(r)),!1!==r&&(r&&"boolean"!=typeof r?(i=r,om(e,op,""),({enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}})[t](i)):(s=n,om(e,og),l=(a=!s.includes("in")&&!s.includes("out")&&!t)||s.includes("in")||["enter"].includes(t),u=a||s.includes("out")||["leave"].includes(t),s.includes("in")&&!a&&(s=s.filter((e,t)=>t<s.indexOf("out"))),s.includes("out")&&!a&&(s=s.filter((e,t)=>t>s.indexOf("out"))),f=(c=!s.includes("opacity")&&!s.includes("scale"))||s.includes("opacity"),d=c||s.includes("scale"),p=f?0:1,h=d?oy(s,"scale",95)/100:1,g=oy(s,"delay",0)/1e3,_=oy(s,"origin","center"),m="opacity, transform",v=oy(s,"duration",150)/1e3,y=oy(s,"duration",75)/1e3,b="cubic-bezier(0.4, 0.0, 0.2, 1)",l&&(e._x_transition.enter.during={transformOrigin:_,transitionDelay:`${g}s`,transitionProperty:m,transitionDuration:`${v}s`,transitionTimingFunction:b},e._x_transition.enter.start={opacity:p,transform:`scale(${h})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),u&&(e._x_transition.leave.during={transformOrigin:_,transitionDelay:`${g}s`,transitionProperty:m,transitionDuration:`${y}s`,transitionTimingFunction:b},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:p,transform:`scale(${h})`})))}),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let o="visible"===document.visibilityState?requestAnimationFrame:setTimeout,i=()=>o(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((t,n)=>{e._x_transition.out(()=>{},()=>t(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>n({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let t=function e(t){let n=t.parentNode;if(n)return n._x_hidePromise?n:e(n)}(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):o(()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then(([e])=>e?.());return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch(e=>{if(!e.isFromCancelledTransition)throw e})})})};var ob=!1;function ow(e,t=()=>{}){return(...n)=>ob?t(...n):e(...n)}var ox=[];function oA(e){ox.push(e)}var oE=!1;function oS(e){let t=H;H=(e,n)=>{let r=t(e);return z(r),()=>{}},e(),H=t}function oT(e,t,n,r=[]){var o;switch(e._x_bindings||(e._x_bindings=q({})),e._x_bindings[t]=n,t=r.includes("camel")?t.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase()):t){case"value":!function(e,t){if(oL(e)){var n;void 0===e.attributes.value&&(e.value=t),window.fromModel&&("boolean"==typeof t?e.checked=oO(e.value)===t:e.checked=(n=e.value,n==t))}else if(oP(e))Number.isInteger(t)?e.value=t:Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?Array.isArray(t)?e.checked=t.some(t=>t==e.value):e.checked=!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){let n=[].concat(t).map(e=>e+"");Array.from(e.options).forEach(e=>{e.selected=n.includes(e.value)})}(e,t);else{if(e.value===t)return;e.value=void 0===t?"":t}}(e,n);break;case"style":e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=og(e,n);break;case"class":e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=op(e,n);break;case"selected":case"checked":ok(e,o=t,n),e[o]!==n&&(e[o]=n);break;default:ok(e,t,n)}}function ok(e,t,n){var r;[null,void 0,!1].includes(n)&&!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)?e.removeAttribute(t):(oC.has(t)&&(n=t),r=n,e.getAttribute(t)!=r&&e.setAttribute(t,r))}function oO(e){return!![1,"1","true","on","yes",!0].includes(e)||![0,"0","false","off","no",!1].includes(e)&&(e?!!e:null)}var oC=/* @__PURE__ */new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function oR(e,t,n){let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:""===r||(oC.has(t)?!![t,"true"].includes(r):r)}function oP(e){return"checkbox"===e.type||"ui-checkbox"===e.localName||"ui-switch"===e.localName}function oL(e){return"radio"===e.type||"ui-radio"===e.localName}function oB(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout(function(){n=null,e.apply(r,o)},t)}}function oI(e,t){let n;return function(){let r=arguments;n||(e.apply(this,r),n=!0,setTimeout(()=>n=!1,t))}}function oM({get:e,set:t},{get:n,set:r}){let o,i=!0,s=H(()=>{let s=e(),a=n();if(i)r(oN(s)),i=!1;else{let e=JSON.stringify(s),n=JSON.stringify(a);e!==o?r(oN(s)):e!==n&&t(oN(a))}o=JSON.stringify(e()),JSON.stringify(n())});return()=>{z(s)}}function oN(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}var oU={},oj=!1,oD={};function oF(e,t,n){let r=[];for(;r.length;)r.pop()();let o=Object.entries(t).map(([e,t])=>({name:e,value:t})),i=rH(o);return rq(e,o=o.map(e=>i.find(t=>t.name===e.name)?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e),n).map(e=>{r.push(e.runCleanups),e()}),()=>{for(;r.length;)r.pop()()}}var o$={},oq={get reactive(){return q},get release(){return z},get effect(){return H},get raw(){return K},version:"3.14.8",flushAndStopDeferringMutations:function(){rg=!1,rm(r_),r_=[]},dontAutoEvaluateFunctions:rP,disableEffectScheduling:function(e){re=!1,e(),re=!0},startObservingMutations:rf,stopObservingMutations:rd,setReactivityEngine:function(e){q=e.reactive,z=e.release,H=t=>e.effect(t,{scheduler:e=>{if(re)n3.includes(e)||n3.push(e),n6||n8||(n8=!0,queueMicrotask(n9));else e()}}),K=e.raw},onAttributeRemoved:ra,onAttributesAdded:rs,closestDataStack:rb,skipDuringClone:ow,onlyDuringClone:function(e){return(...t)=>ob&&e(...t)},addRootSelector:ot,addInitSelector:on,interceptClone:oA,addScopeToNode:ry,deferMutations:function(){rg=!0},mapAttributes:rJ,evaluateLater:rB,interceptInit:function(e){oi.push(e)},setEvaluator:function(e){rI=e},mergeProxies:rw,extractProp:function(e,t,n,r=!0){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];if(e._x_inlineBindings&&void 0!==e._x_inlineBindings[t]){let n=e._x_inlineBindings[t];return n.extract=r,rP(()=>rL(e,n.expression))}return oR(e,t,n)},findClosest:oo,onElRemoved:ri,closestRoot:or,destroyTree:ol,interceptor:rS,transition:ov,setStyles:og,mutateDom:rh,directive:r$,entangle:oM,throttle:oI,debounce:oB,evaluate:rL,initTree:oa,nextTick:of,prefixed:rD,prefix:function(e){rj=e},plugin:function(e){(Array.isArray(e)?e:[e]).forEach(e=>e(oq))},magic:function(e,t){rT[e]=t},store:function(e,t){if(oj||(oU=q(oU),oj=!0),void 0===t)return oU[e];oU[e]=t,rE(oU[e]),"object"==typeof t&&null!==t&&t.hasOwnProperty("init")&&"function"==typeof t.init&&oU[e].init()},start:function(){var e;r3&&r6("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),r3=!0,document.body||r6("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),r5(document,"alpine:init"),r5(document,"alpine:initializing"),rf(),e=e=>oa(e,r8),ro.push(e),ri(e=>ol(e)),rs((e,t)=>{rq(e,t).forEach(e=>e())}),Array.from(document.querySelectorAll(oe().join(","))).filter(e=>!or(e.parentElement,!0)).forEach(e=>{oa(e)}),r5(document,"alpine:initialized"),setTimeout(()=>{[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,t,n])=>{Object.keys(rF).includes(t)||n.some(t=>{if(document.querySelector(t))return r6(`found "${t}", but missing ${e} plugin`),!0})})})},clone:function(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ob=!0,oE=!0,oS(()=>{let e;e=!1,oa(t,(t,n)=>{r8(t,(t,r)=>{if(e&&r9().some(e=>t.matches(e)))return r();e=!0,n(t,r)})})}),ob=!1,oE=!1},cloneNode:function(e,t){ox.forEach(n=>n(e,t)),ob=!0,oS(()=>{oa(t,(e,t)=>{t(e,()=>{})})}),ob=!1},bound:function(e,t,n){return e._x_bindings&&void 0!==e._x_bindings[t]?e._x_bindings[t]:oR(e,t,n)},$data:rv,watch:rt,walk:r8,data:function(e,t){o$[e]=t},bind:function(e,t){let n="function"!=typeof t?()=>t:t;return e instanceof Element?oF(e,n()):(oD[e]=n,()=>{})}},oH=Object.freeze({});Object.freeze([]);var oz=Object.prototype.hasOwnProperty,oK=(e,t)=>oz.call(e,t),oW=Array.isArray,oG=e=>"[object Map]"===oY(e),oV=e=>"string"==typeof e,oQ=e=>"symbol"==typeof e,oX=e=>null!==e&&"object"==typeof e,oJ=Object.prototype.toString,oY=e=>oJ.call(e),oZ=e=>oY(e).slice(8,-1),o0=e=>oV(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,o1=e=>{let t=/* @__PURE__ */Object.create(null);return n=>t[n]||(t[n]=e(n))},o2=/-(\w)/g;o1(e=>e.replace(o2,(e,t)=>t?t.toUpperCase():""));var o5=/\B([A-Z])/g;o1(e=>e.replace(o5,"-$1").toLowerCase());var o8=o1(e=>e.charAt(0).toUpperCase()+e.slice(1));o1(e=>e?`on${o8(e)}`:"");var o6=(e,t)=>e!==t&&(e==e||t==t),o3=/* @__PURE__ */new WeakMap,o4=[],o7=Symbol("iterate"),o9=Symbol("Map key iterate"),ie=0;function it(e){let{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var ir=!0,io=[];function ii(){let e=io.pop();ir=void 0===e||e}function is(e,t,n){if(!ir||void 0===W)return;let r=o3.get(e);r||o3.set(e,r=/* @__PURE__ */new Map);let o=r.get(n);o||r.set(n,o=/* @__PURE__ */new Set),!o.has(W)&&(o.add(W),W.deps.push(o),W.options.onTrack&&W.options.onTrack({effect:W,target:e,type:t,key:n}))}function ia(e,t,n,r,o,i){let s=o3.get(e);if(!s)return;let a=/* @__PURE__ */new Set,l=e=>{e&&e.forEach(e=>{(e!==W||e.allowRecurse)&&a.add(e)})};if("clear"===t)s.forEach(l);else if("length"===n&&oW(e))s.forEach((e,t)=>{("length"===t||t>=r)&&l(e)});else switch(void 0!==n&&l(s.get(n)),t){case"add":oW(e)?o0(n)&&l(s.get("length")):(l(s.get(o7)),oG(e)&&l(s.get(o9)));break;case"delete":!oW(e)&&(l(s.get(o7)),oG(e)&&l(s.get(o9)));break;case"set":oG(e)&&l(s.get(o7))}a.forEach(s=>{s.options.onTrigger&&s.options.onTrigger({effect:s,target:e,key:n,type:t,newValue:r,oldValue:o,oldTarget:i}),s.options.scheduler?s.options.scheduler(s):s()})}var il=/* @__PURE__ */function(e,t){let n=/* @__PURE__ */Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return e=>!!n[e]}("__proto__,__v_isRef,__isVue"),iu=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(oQ)),ic=/* @__PURE__ */ih(),id=/* @__PURE__ */ih(!0),ip=/* @__PURE__ */function(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){let n=iW(this);for(let e=0,t=this.length;e<t;e++)is(n,"get",e+"");let r=n[t](...e);return -1===r||!1===r?n[t](...e.map(iW)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){io.push(ir),ir=!1;let n=iW(this)[t].apply(this,e);return ii(),n}}),e}();function ih(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?iq:i$:t?iF:iD).get(n))return n;let i=oW(n);if(!e&&i&&oK(ip,r))return Reflect.get(ip,r,o);let s=Reflect.get(n,r,o);return(oQ(r)?iu.has(r):il(r))?s:(e||is(n,"get",r),t)?s:iG(s)?i&&o0(r)?s:s.value:oX(s)?e?iz(s):iH(s):s}}var ig={get:ic,set:/* @__PURE__ */function(e=!1){return function(t,n,r,o){let i=t[n];if(!e&&(r=iW(r),i=iW(i),!oW(t)&&iG(i)&&!iG(r)))return i.value=r,!0;let s=oW(t)&&o0(n)?Number(n)<t.length:oK(t,n),a=Reflect.set(t,n,r,o);return t===iW(o)&&(s?o6(r,i)&&ia(t,"set",n,r,i):ia(t,"add",n,r)),a}}(),deleteProperty:function(e,t){let n=oK(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&ia(e,"delete",t,void 0,r),o},has:function(e,t){let n=Reflect.has(e,t);return oQ(t)&&iu.has(t)||is(e,"has",t),n},ownKeys:function(e){return is(e,"iterate",oW(e)?"length":o7),Reflect.ownKeys(e)}},i_={get:id,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},im=e=>oX(e)?iH(e):e,iv=e=>oX(e)?iz(e):e,iy=e=>e,ib=e=>Reflect.getPrototypeOf(e);function iw(e,t,n=!1,r=!1){let o=iW(e=e.__v_raw),i=iW(t);t!==i&&(n||is(o,"get",t)),n||is(o,"get",i);let{has:s}=ib(o),a=r?iy:n?iv:im;return s.call(o,t)?a(e.get(t)):s.call(o,i)?a(e.get(i)):void(e!==o&&e.get(t))}function ix(e,t=!1){let n=this.__v_raw,r=iW(n),o=iW(e);return e!==o&&(t||is(r,"has",e)),t||is(r,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function iA(e,t=!1){return e=e.__v_raw,t||is(iW(e),"iterate",o7),Reflect.get(e,"size",e)}function iE(e){e=iW(e);let t=iW(this);return ib(t).has.call(t,e)||(t.add(e),ia(t,"add",e,e)),this}function iS(e,t){t=iW(t);let n=iW(this),{has:r,get:o}=ib(n),i=r.call(n,e);i?ij(n,r,e):(e=iW(e),i=r.call(n,e));let s=o.call(n,e);return n.set(e,t),i?o6(t,s)&&ia(n,"set",e,t,s):ia(n,"add",e,t),this}function iT(e){let t=iW(this),{has:n,get:r}=ib(t),o=n.call(t,e);o?ij(t,n,e):(e=iW(e),o=n.call(t,e));let i=r?r.call(t,e):void 0,s=t.delete(e);return o&&ia(t,"delete",e,void 0,i),s}function ik(){let e=iW(this),t=0!==e.size,n=oG(e)?new Map(e):new Set(e),r=e.clear();return t&&ia(e,"clear",void 0,void 0,n),r}function iO(e,t){return function(n,r){let o=this,i=o.__v_raw,s=iW(i),a=t?iy:e?iv:im;return e||is(s,"iterate",o7),i.forEach((e,t)=>n.call(r,a(e),a(t),o))}}function iC(e,t,n){return function(...r){let o=this.__v_raw,i=iW(o),s=oG(i),a="entries"===e||e===Symbol.iterator&&s,l=o[e](...r),u=n?iy:t?iv:im;return t||is(i,"iterate","keys"===e&&s?o9:o7),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function iR(e){return function(...t){{let n=t[0]?`on key "${t[0]}" `:"";console.warn(`${o8(e)} operation ${n}failed: target is readonly.`,iW(this))}return"delete"!==e&&this}}var[iP,iL,iB,iI]=/* @__PURE__ */function(){let e={get(e){return iw(this,e)},get size(){return iA(this)},has:ix,add:iE,set:iS,delete:iT,clear:ik,forEach:iO(!1,!1)},t={get(e){return iw(this,e,!1,!0)},get size(){return iA(this)},has:ix,add:iE,set:iS,delete:iT,clear:ik,forEach:iO(!1,!0)},n={get(e){return iw(this,e,!0)},get size(){return iA(this,!0)},has(e){return ix.call(this,e,!0)},add:iR("add"),set:iR("set"),delete:iR("delete"),clear:iR("clear"),forEach:iO(!0,!1)},r={get(e){return iw(this,e,!0,!0)},get size(){return iA(this,!0)},has(e){return ix.call(this,e,!0)},add:iR("add"),set:iR("set"),delete:iR("delete"),clear:iR("clear"),forEach:iO(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=iC(o,!1,!1),n[o]=iC(o,!0,!1),t[o]=iC(o,!1,!0),r[o]=iC(o,!0,!0)}),[e,n,t,r]}();function iM(e,t){let n=t?e?iI:iB:e?iL:iP;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(oK(n,r)&&r in t?n:t,r,o)}var iN={get:/* @__PURE__ */iM(!1,!1)},iU={get:/* @__PURE__ */iM(!0,!1)};function ij(e,t,n){let r=iW(n);if(r!==n&&t.call(e,r)){let t=oZ(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var iD=/* @__PURE__ */new WeakMap,iF=/* @__PURE__ */new WeakMap,i$=/* @__PURE__ */new WeakMap,iq=/* @__PURE__ */new WeakMap;function iH(e){return e&&e.__v_isReadonly?e:iK(e,!1,ig,iN,iD)}function iz(e){return iK(e,!0,i_,iU,i$)}function iK(e,t,n,r,o){if(!oX(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let i=o.get(e);if(i)return i;let s=e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(oZ(e));if(0===s)return e;let a=new Proxy(e,2===s?r:n);return o.set(e,a),a}function iW(e){return e&&iW(e.__v_raw)||e}function iG(e){return!!(e&&!0===e.__v_isRef)}d=()=>of,rT.nextTick=d,p=e=>r5.bind(r5,e),rT.dispatch=p,h=(e,{evaluateLater:t,cleanup:n})=>(e,r)=>{let o=t(e);n(rt(()=>{let e;return o(t=>e=t),e},r))},rT.watch=h,g=function(){return oU},rT.store=g,_=e=>rv(e),rT.data=_,m=e=>or(e),rT.root=m,v=e=>{let t;return e._x_refs_proxy||(e._x_refs_proxy=rw((t=[],oo(e,e=>{e._x_refs&&t.push(e._x_refs)}),t))),e._x_refs_proxy},rT.refs=v;var iV={};function iQ(e){return iV[e]||(iV[e]=0),++iV[e]}function iX(e,t,n){var r;r=r=>r6(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r),rT[t]=r}y=(e,{cleanup:t})=>(n,r=null)=>(function(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let o=r();return e._x_id[t]=o,n(()=>{delete e._x_id[t]}),o})(e,`${n}${r?`-${r}`:""}`,t,()=>{let t=oo(e,e=>{if(e._x_ids&&e._x_ids[n])return!0}),o=t?t._x_ids[n]:iQ(n);return r?`${n}-${o}-${r}`:`${n}-${o}`}),rT.id=y,oA((e,t)=>{e._x_id&&(t._x_id=e._x_id)}),b=e=>e,rT.el=b,iX("Focus","focus","focus"),iX("Persist","persist","persist"),r$("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:o})=>{let i=r(t),s=()=>{let e;return i(t=>e=t),e},a=r(`${t} = __placeholder`),l=e=>a(()=>{},{scope:{__placeholder:e}});l(s()),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let t=e._x_model.get,n=e._x_model.set;o(oM({get:()=>t(),set(e){n(e)}},{get:()=>s(),set(e){l(e)}}))})}),r$("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&r6("x-teleport can only be used on a <template> tag",e);let o=iY(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(t=>{i.addEventListener(t,t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))})}),ry(i,{},e);let s=(e,t,n)=>{n.includes("prepend")?t.parentNode.insertBefore(e,t):n.includes("append")?t.parentNode.insertBefore(e,t.nextSibling):t.appendChild(e)};rh(()=>{s(i,o,t),ow(()=>{oa(i)})()}),e._x_teleportPutBack=()=>{let r=iY(n);rh(()=>{s(e._x_teleport,r,t)})},r(()=>rh(()=>{i.remove(),ol(i)}))});var iJ=document.createElement("div");function iY(e){let t=ow(()=>document.querySelector(e),()=>iJ)();return t||r6(`Cannot find x-teleport element for selector: "${e}"`),t}var iZ=()=>{};function i0(e,t,n,r){let o=e,i=e=>r(e),s={},a=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())),n.includes("passive")&&(s.passive=!0),n.includes("capture")&&(s.capture=!0),n.includes("window")&&(o=window),n.includes("document")&&(o=document),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=i1(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=oB(i,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=i1(e.split("ms")[0])?Number(e.split("ms")[0]):250;i=oI(i,t)}return n.includes("prevent")&&(i=a(i,(e,t)=>{t.preventDefault(),e(t)})),n.includes("stop")&&(i=a(i,(e,t)=>{t.stopPropagation(),e(t)})),n.includes("once")&&(i=a(i,(e,n)=>{e(n),o.removeEventListener(t,i,s)})),(n.includes("away")||n.includes("outside"))&&(o=document,i=a(i,(t,n)=>{e.contains(n.target)||!1===n.target.isConnected||e.offsetWidth<1&&e.offsetHeight<1||!1===e._x_isShown||t(n)})),n.includes("self")&&(i=a(i,(t,n)=>{n.target===e&&t(n)})),(["keydown","keyup"].includes(t)||i2(t))&&(i=a(i,(e,t)=>{!function(e,t){let n=t.filter(e=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(e));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,i1((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let e=n.indexOf("throttle");n.splice(e,i1((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length||1===n.length&&i5(e.key).includes(n[0]))return!1;let r=["ctrl","shift","alt","meta","cmd","super"].filter(e=>n.includes(e));return n=n.filter(e=>!r.includes(e)),!(r.length>0&&r.filter(t=>(("cmd"===t||"super"===t)&&(t="meta"),e[`${t}Key`])).length===r.length&&(i2(e.type)||i5(e.key).includes(n[0])))}(t,n)&&e(t)})),o.addEventListener(t,i,s),()=>{o.removeEventListener(t,i,s)}}function i1(e){return!Array.isArray(e)&&!isNaN(e)}function i2(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function i5(e){var t;if(!e)return[];e=[" ","_"].includes(t=e)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map(t=>{if(n[t]===e)return t}).filter(e=>e)}function i8(e,t,n,r){return rh(()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return null!==n.detail&&void 0!==n.detail?n.detail:n.target.value;if(oP(e)){if(!Array.isArray(r))return n.target.checked;{let e=null;return e=t.includes("number")?i6(n.target.value):t.includes("boolean")?oO(n.target.value):n.target.value,n.target.checked?r.includes(e)?r:r.concat([e]):r.filter(t=>t!=e)}}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(e=>i6(e.value||e.text)):t.includes("boolean")?Array.from(n.target.selectedOptions).map(e=>oO(e.value||e.text)):Array.from(n.target.selectedOptions).map(e=>e.value||e.text);{let o;return(o=oL(e)?n.target.checked?n.target.value:r:n.target.value,t.includes("number"))?i6(o):t.includes("boolean")?oO(o):t.includes("trim")?o.trim():o}})}function i6(e){let t=e?parseFloat(e):null;return Array.isArray(t)||isNaN(t)?e:t}function i3(e){return null!==e&&"object"==typeof e&&"function"==typeof e.get&&"function"==typeof e.set}iZ.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})},r$("ignore",iZ),r$("effect",ow((e,{expression:t},{effect:n})=>{n(rB(e,t))})),r$("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:o})=>{let i,s=e;t.includes("parent")&&(s=e.parentNode);let a=rB(s,n);i="string"==typeof n?rB(s,`${n} = __placeholder`):"function"==typeof n&&"string"==typeof n()?rB(s,`${n()} = __placeholder`):()=>{};let l=()=>{let e;return a(t=>e=t),i3(e)?e.get():e},u=e=>{let t;a(e=>t=e),i3(t)?t.set(e):i(()=>{},{scope:{__placeholder:e}})};"string"==typeof n&&"radio"===e.type&&rh(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});var c="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let f=ob?()=>{}:i0(e,c,t,n=>{u(i8(e,t,n,l()))});if(t.includes("fill")&&([void 0,null,""].includes(l())||oP(e)&&Array.isArray(l())||"select"===e.tagName.toLowerCase()&&e.multiple)&&u(i8(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=f,o(()=>e._x_removeModelListeners.default()),e.form){let n=i0(e.form,"reset",[],n=>{of(()=>e._x_model&&e._x_model.set(i8(e,t,{target:e},l())))});o(()=>n())}e._x_model={get:()=>l(),set(e){u(e)}},e._x_forceModelUpdate=t=>{void 0===t&&"string"==typeof n&&n.match(/\./)&&(t=""),window.fromModel=!0,rh(()=>oT(e,"value",t)),delete window.fromModel},r(()=>{let n=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(n)})}),r$("cloak",e=>queueMicrotask(()=>rh(()=>e.removeAttribute(rD("cloak"))))),on(()=>`[${rD("init")}]`),r$("init",ow((e,{expression:t},{evaluate:n})=>"string"==typeof t?!!t.trim()&&n(t,{},!1):n(t,{},!1))),r$("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(t=>{rh(()=>{e.textContent=t})})})}),r$("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(t=>{rh(()=>{e.innerHTML=t,e._x_ignoreSelf=!0,oa(e),delete e._x_ignoreSelf})})})}),rJ(rV(":",rD("bind:")));var i4=(e,{value:t,modifiers:n,expression:r,original:o},{effect:i,cleanup:s})=>{if(!t){let t={};Object.entries(oD).forEach(([e,n])=>{Object.defineProperty(t,e,{get:()=>(...e)=>n(...e)})}),rB(e,r)(t=>{oF(e,t,o)},{scope:t});return}if("key"===t)return void(e._x_keyExpression=r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=rB(e,r);i(()=>a(o=>{void 0===o&&"string"==typeof r&&r.match(/\./)&&(o=""),rh(()=>oT(e,t,o,n))})),s(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};function i7(e,t,n,r){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(e=>e.trim()).forEach((e,n)=>{o[e]=t[n]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map(e=>e.trim()).forEach(e=>{o[e]=t[e]}):o[e.item]=t,e.index&&(o[e.index]=n),e.collection&&(o[e.collection]=r),o}function i9(){}function se(e,t,n){r$(t,r=>r6(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}i4.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})},r$("bind",i4),ot(()=>`[${rD("data")}]`),r$("data",(e,{expression:t},{cleanup:n})=>{if(ob&&(oE||e.hasAttribute("data-has-alpine-state")))return;t=""===t?"{}":t;let r={};rk(r,e);let o={};Object.entries(o$).forEach(([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t.bind(r)(...e),enumerable:!1})});let i=rL(e,t,{scope:o});(void 0===i||!0===i)&&(i={}),rk(i,e);let s=q(i);rE(s);let a=ry(e,s);s.init&&rL(e,s.init),n(()=>{s.destroy&&rL(e,s.destroy),a()})}),oA((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))}),r$("show",(e,{modifiers:t,expression:n},{effect:r})=>{let o,i=rB(e,n);e._x_doHide||(e._x_doHide=()=>{rh(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{rh(()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display")})});let s=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},l=()=>setTimeout(a),u=o_(e=>e?a():s(),t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,a,s):t?l():s()}),c=!0;r(()=>i(e=>{(c||e!==o)&&(t.includes("immediate")&&(e?l():s()),u(e),o=e,c=!1)}))}),r$("for",(e,{expression:t},{effect:n,cleanup:r})=>{let o=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let o=n[1].replace(/^\s*\(|\)\s*$/g,"").trim(),i=o.match(t);return i?(r.item=o.replace(t,"").trim(),r.index=i[1].trim(),i[2]&&(r.collection=i[2].trim())):r.item=o,r}(t),i=rB(e,o.items),s=rB(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>{let t;return t=e=>"object"==typeof e&&!Array.isArray(e),void i(n=>{var r;Array.isArray(r=n)||isNaN(r)||!(n>=0)||(n=Array.from(Array(n).keys(),e=>e+1)),void 0===n&&(n=[]);let i=e._x_lookup,a=e._x_prevKeys,l=[],u=[];if(t(n))n=Object.entries(n).map(([t,r])=>{let i=i7(o,r,t,n);s(t=>{u.includes(t)&&r6("Duplicate key on x-for",e),u.push(t)},{scope:{index:t,...i}}),l.push(i)});else for(let t=0;t<n.length;t++){let r=i7(o,n[t],t,n);s(t=>{u.includes(t)&&r6("Duplicate key on x-for",e),u.push(t)},{scope:{index:t,...r}}),l.push(r)}let c=[],f=[],d=[],p=[];for(let e=0;e<a.length;e++){let t=a[e];-1===u.indexOf(t)&&d.push(t)}a=a.filter(e=>!d.includes(e));let h="template";for(let e=0;e<u.length;e++){let t=u[e],n=a.indexOf(t);if(-1===n)a.splice(e,0,t),c.push([h,e]);else if(n!==e){let t=a.splice(e,1)[0],r=a.splice(n-1,1)[0];a.splice(e,0,r),a.splice(n,0,t),f.push([t,r])}else p.push(t);h=t}for(let e=0;e<d.length;e++){let t=d[e];t in i&&(rh(()=>{ol(i[t]),i[t].remove()}),delete i[t])}for(let t=0;t<f.length;t++){let[n,r]=f[t],o=i[n],s=i[r],a=document.createElement("div");rh(()=>{s||r6('x-for ":key" is undefined or invalid',e,r,i),s.after(a),o.after(s),s._x_currentIfEl&&s.after(s._x_currentIfEl),a.before(o),o._x_currentIfEl&&o.after(o._x_currentIfEl),a.remove()}),s._x_refreshXForScope(l[u.indexOf(r)])}for(let t=0;t<c.length;t++){let[n,r]=c[t],o="template"===n?e:i[n];o._x_currentIfEl&&(o=o._x_currentIfEl);let s=l[r],a=u[r],f=document.importNode(e.content,!0).firstElementChild,d=q(s);ry(f,d,e),f._x_refreshXForScope=e=>{Object.entries(e).forEach(([e,t])=>{d[e]=t})},rh(()=>{o.after(f),ow(()=>oa(f))()}),"object"==typeof a&&r6("x-for key cannot be an object, it must be a string or an integer",e),i[a]=f}for(let e=0;e<p.length;e++)i[p[e]]._x_refreshXForScope(l[u.indexOf(p[e])]);e._x_prevKeys=u})}),r(()=>{Object.values(e._x_lookup).forEach(e=>rh(()=>{ol(e),e.remove()})),delete e._x_prevKeys,delete e._x_lookup})}),i9.inline=(e,{expression:t},{cleanup:n})=>{let r=or(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])},r$("ref",i9),r$("if",(e,{expression:t},{effect:n,cleanup:r})=>{"template"!==e.tagName.toLowerCase()&&r6("x-if can only be used on a <template> tag",e);let o=rB(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;return ry(t,{},e),rh(()=>{e.after(t),ow(()=>oa(t))()}),e._x_currentIfEl=t,e._x_undoIf=()=>{rh(()=>{ol(t),t.remove()}),delete e._x_currentIfEl},t},s=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>o(e=>{e?i():s()})),r(()=>e._x_undoIf&&e._x_undoIf())}),r$("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(t=>{e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=iQ(t))})}),oA((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)}),rJ(rV("@",rD("on:"))),r$("on",ow((e,{value:t,modifiers:n,expression:r},{cleanup:o})=>{let i=r?rB(e,r):()=>{};"template"!==e.tagName.toLowerCase()||(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let s=i0(e,t,n,e=>{i(()=>{},{scope:{$event:e},params:[e]})});o(()=>s())})),se("Collapse","collapse","collapse"),se("Intersect","intersect","intersect"),se("Focus","trap","focus"),se("Mask","mask","mask"),oq.setEvaluator(rM),oq.setReactivityEngine({reactive:iH,effect:function(e,t=oH){var n;(n=e)&&!0===n._isEffect&&(e=e.raw);let r=function(e,t){let n=function(){if(!n.active)return e();if(!o4.includes(n)){it(n);try{return io.push(ir),ir=!0,o4.push(n),W=n,e()}finally{o4.pop(),ii(),W=o4[o4.length-1]}}};return n.id=ie++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||r(),r},release:function(e){e.active&&(it(e),e.options.onStop&&e.options.onStop(),e.active=!1)},raw:iW}),(w=function(){this.init()}).prototype={init:function(){var e=this||x;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||x;if(e=parseFloat(e),t.ctx||R(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,x.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.volume=i._volume*e)}return t}return t._volume},mute:function(e){var t=this||x;t.ctx||R(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,x.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var i=t._howls[n]._soundById(r[o]);i&&i._node&&(i._node.muted=!!e||i._muted)}return t},stop:function(){for(var e=this||x,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||x,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,R()),e},codecs:function(e){return(this||x)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||x;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio){if("undefined"!=typeof Audio)try{var t=new Audio;void 0===t.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0}try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||x,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/(\d+)/g),i=o&&33>parseInt(o[0].split("/")[1],10),s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),a=r.match(/Version\/(.*?) /),l=s&&a&&15>parseInt(a[1],10);return e._codecs={mp3:!!(!i&&(n||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||x;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(t){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),s=0;s<i.length;s++){var a=e._howls[o]._soundById(i[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),void 0===l.start?l.noteOn(0):l.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||x;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||x;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&x.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&x.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}},x=new w,(A=function(e){if(!e.src||0===e.src.length){console.error("An array of source files must be passed with any new Howl.");return}this.init(e)}).prototype={init:function(e){var t=this;return x.ctx||R(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!!e.xhr&&!!e.xhr.withCredentials&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=x.usingWebAudio&&!t._html5,void 0!==x.ctx&&x.ctx&&x.autoUnlock&&x._unlockAudio(),x._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e,t,n=null;if(x.noAudio){this._emit("loaderror",null,"No audio support.");return}"string"==typeof this._src&&(this._src=[this._src]);for(var r=0;r<this._src.length;r++){if(this._format&&this._format[r])e=this._format[r];else{if("string"!=typeof(t=this._src[r])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(e=/^data:audio\/([^;,]+);/i.exec(t))||(e=/\.([^.]+)$/.exec(t.split("?",1)[0])),e&&(e=e[1].toLowerCase())}if(e||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),e&&x.codecs(e)){n=this._src[r];break}}if(!n){this._emit("loaderror",null,"No codec support for selected audio sources.");return}return this._src=n,this._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new E(this),this._webAudio&&T(this),this},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;else if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,i=0;i<n._sounds.length;i++)n._sounds[i]._paused&&!n._sounds[i]._ended&&(o++,r=n._sounds[i]._id);1===o?e=null:r=null}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var a=s._id;return n._queue.push({event:"play",action:function(){n.play(a)}}),a}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&x._autoResume();var l=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),u=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l),c=1e3*u/Math.abs(s._rate),f=n._sprite[e][0]/1e3,d=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var p=function(){s._paused=!1,s._seek=l,s._start=f,s._stop=d,s._loop=!!(s._loop||n._sprite[e][2])};if(l>=d){n._ended(s);return}var h=s._node;if(n._webAudio){var g=function(){n._playLock=!1,p(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;h.gain.setValueAtTime(e,x.ctx.currentTime),s._playStart=x.ctx.currentTime,void 0===h.bufferSource.start?s._loop?h.bufferSource.noteGrainOn(0,l,86400):h.bufferSource.noteGrainOn(0,l,u):s._loop?h.bufferSource.start(0,l,86400):h.bufferSource.start(0,l,u),c!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};"running"===x.state&&"interrupted"!==x.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var _=function(){h.currentTime=l,h.muted=s._muted||n._muted||x._muted||h.muted,h.volume=s._volume*x.volume(),h.playbackRate=s._rate;try{var r=h.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,p(),r.then(function(){n._playLock=!1,h._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,p(),n._emit("play",s._id)),h.playbackRate=s._rate,h.paused){n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),c):(n._endTimers[s._id]=function(){n._ended(s),h.removeEventListener("ended",n._endTimers[s._id],!1)},h.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===h.src&&(h.src=n._src,h.load());var m=window&&window.ejecta||!h.readyState&&x._navigator.isCocoonJS;if(h.readyState>=3||m)_();else{n._playLock=!0,n._state="loading";var v=function(){n._state="loaded",_(),h.removeEventListener(x._canPlayEvent,v,!1)};h.addEventListener(x._canPlayEvent,v,!1),n._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node)){if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause()}arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var i=n._soundById(r[o]);i&&(i._muted=e,i._interval&&n._stopFade(i._id),n._webAudio&&i._node?i._node.gain.setValueAtTime(e?0:i._volume,x.ctx.currentTime):i._node&&(i._node.muted=!!x._muted||e),n._emit("mute",i._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),void 0===e||!(e>=0)||!(e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var i=0;i<t.length;i++)(n=r._soundById(t[i]))&&(n._volume=e,o[2]||r._stopFade(t[i]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,x.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*x.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var i=o._getSoundIds(r),s=0;s<i.length;s++){var a=o._soundById(i[s]);if(a){if(r||o._stopFade(i[s]),o._webAudio&&!a._muted){var l=x.ctx.currentTime,u=l+n/1e3;a._volume=e,a._node.gain.setValueAtTime(e,l),a._node.gain.linearRampToValueAtTime(t,u)}o._startFadeInterval(a,e,t,n,i[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var s=this,a=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?r/u:r),f=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var o=(Date.now()-f)/r;f=Date.now(),a+=l*o,a=Math.round(100*a)/100,a=l<0?Math.max(n,a):Math.min(n,a),s._webAudio?e._volume=a:s.volume(a,e._id,!0),i&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))},c)},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(x.ctx.currentTime),clearInterval(t._interval),t._interval=null,this.volume(t._fadeTo,e),t._fadeTo=null,this._emit("fade",e)),this},loop:function(){var e,t,n,r=arguments;if(0===r.length)return this._loop;if(1===r.length){if("boolean"!=typeof r[0])return!!(n=this._soundById(parseInt(r[0],10)))&&n._loop;e=r[0],this._loop=e}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var o=this._getSoundIds(t),i=0;i<o.length;i++)(n=this._soundById(o[i]))&&(n._loop=e,this._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,this.playing(o[i])&&(this.pause(o[i],!0),this.play(o[i],!0)))));return this},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length?t=r._sounds[0]._id:1===o.length?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),"number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var i=0;i<t.length;i++)if(n=r._soundById(t[i])){r.playing(t[i])&&(n._rateSeek=r.seek(t[i]),n._playStart=r._webAudio?x.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,x.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[i]),a=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);(r._endTimers[t[i]]||!n._paused)&&(r._clearTimer(t[i]),r._endTimers[t[i]]=setTimeout(r._ended.bind(r,n),a)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length?n._sounds.length&&(t=n._sounds[0]._id):1===r.length?n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0])):2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10)),void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if("number"==typeof e&&e>=0){var i=n.playing(t);i&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var s=function(){i&&n.play(t,!0),n._emit("seek",t)};if(i&&!n._webAudio){var a=function(){n._playLock?setTimeout(a,0):s()};setTimeout(a,0)}else s()}else{if(!n._webAudio)return o._node.currentTime;var l=n.playing(t)?x.ctx.currentTime-o._playStart:0,u=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(u+l*Math.abs(o._rate))}}return n},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(e){var t=this._duration,n=this._soundById(e);return n&&(t=this._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(x._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),x._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=x._howls.indexOf(e);r>=0&&x._howls.splice(r,1);var o=!0;for(n=0;n<x._howls.length;n++)if(x._howls[n]._src===e._src||e._src.indexOf(x._howls[n]._src)>=0){o=!1;break}return S&&o&&delete S[e._src],x.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<r.length;o++){var i=n===r[o].id;if(t===r[o].fn&&i||!t&&i){r.splice(o,1);break}}else if(e)this["_on"+e]=[];else{var s=Object.keys(this);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(this[s[o]])&&(this[s[o]]=[])}return this},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this["_on"+e],o=r.length-1;o>=0;o--)(!r[o].id||r[o].id===t||"load"===e)&&(setTimeout((function(e){e.call(this,t,n)}).bind(this,r[o].fn),0),r[o].once&&this.off(e,r[o].fn,r[o].id));return this._loadQueue(e),this},_loadQueue:function(e){if(this._queue.length>0){var t=this._queue[0];t.event===e&&(this._queue.shift(),this._loadQueue()),e||t.action()}return this},_ended:function(e){var t=e._sprite;if(!this._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(this._ended.bind(this,e),100),this;var n=!!(e._loop||this._sprite[t][2]);if(this._emit("end",e._id),!this._webAudio&&n&&this.stop(e._id,!0).play(e._id),this._webAudio&&n){this._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=x.ctx.currentTime;var r=(e._stop-e._start)*1e3/Math.abs(e._rate);this._endTimers[e._id]=setTimeout(this._ended.bind(this,e),r)}return this._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,this._clearTimer(e._id),this._cleanBuffer(e._node),x._autoSuspend()),this._webAudio||n||this.stop(e._id,!0),this},_clearTimer:function(e){if(this._endTimers[e]){if("function"!=typeof this._endTimers[e])clearTimeout(this._endTimers[e]);else{var t=this._soundById(e);t&&t._node&&t._node.removeEventListener("ended",this._endTimers[e],!1)}delete this._endTimers[e]}return this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new E(this)},_drain:function(){var e=this._pool,t=0,n=0;if(!(this._sounds.length<e)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&t++;for(n=this._sounds.length-1;n>=0;n--){if(t<=e)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),t--)}}},_getSoundIds:function(e){if(void 0!==e)return[e];for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t},_refreshBuffer:function(e){return e._node.bufferSource=x.ctx.createBufferSource(),e._node.bufferSource.buffer=S[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,x.ctx.currentTime),this},_cleanBuffer:function(e){var t=x._navigator&&x._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(x._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=x._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(x._navigator&&x._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}},(E=function(e){this._parent=e,this.init()}).prototype={init:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++x._counter,e._sounds.push(this),this.create(),this},create:function(){var e=this._parent,t=x._muted||this._muted||this._parent._muted?0:this._volume;return e._webAudio?(this._node=void 0===x.ctx.createGain?x.ctx.createGainNode():x.ctx.createGain(),this._node.gain.setValueAtTime(t,x.ctx.currentTime),this._node.paused=!0,this._node.connect(x.masterGain)):x.noAudio||(this._node=x._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(x._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=e._src,this._node.preload=!0===e._preload?"auto":e._preload,this._node.volume=t*x.volume(),this._node.load()),this},reset:function(){var e=this._parent;return this._muted=e._muted,this._loop=e._loop,this._volume=e._volume,this._rate=e._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++x._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),this._node.removeEventListener(x._canPlayEvent,this._loadFn,!1)},_endListener:function(){var e=this._parent;e._duration===1/0&&(e._duration=Math.ceil(10*this._node.duration)/10,e._sprite.__default[1]===1/0&&(e._sprite.__default[1]=1e3*e._duration),e._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}},S={},T=function(e){var t=e._src;if(S[t]){e._duration=S[t].duration,C(e);return}if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);O(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(t){i.setRequestHeader(t,e._xhr.headers[t])}),i.onload=function(){var t=(i.status+"")[0];if("0"!==t&&"2"!==t&&"3"!==t){e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".");return}O(i.response,e)},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete S[t],e.load())},k(i)}},k=function(e){try{e.send()}catch(t){e.onerror()}},O=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(S[t._src]=e,C(t,e)):n()};"undefined"!=typeof Promise&&1===x.ctx.decodeAudioData.length?x.ctx.decodeAudioData(e).then(r).catch(n):x.ctx.decodeAudioData(e,r,n)},C=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},R=function(){if(x.usingWebAudio){try{"undefined"!=typeof AudioContext?x.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?x.ctx=new webkitAudioContext:x.usingWebAudio=!1}catch(e){x.usingWebAudio=!1}x.ctx||(x.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(x._navigator&&x._navigator.platform),t=x._navigator&&x._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(x._navigator&&x._navigator.userAgent.toLowerCase());x._navigator&&!r&&(x.usingWebAudio=!1)}x.usingWebAudio&&(x.masterGain=void 0===x.ctx.createGain?x.ctx.createGainNode():x.ctx.createGain(),x.masterGain.gain.setValueAtTime(x._muted?0:x._volume,x.ctx.currentTime),x.masterGain.connect(x.ctx.destination)),x._setup()}},"function"==typeof define&&define.amd&&define([],function(){return{Howler:x,Howl:A}}),void 0!==G?(G.HowlerGlobal=w,G.Howler=x,G.Howl=A,G.Sound=E):"undefined"!=typeof window&&(window.HowlerGlobal=w,window.Howler=x,window.Howl=A,window.Sound=E),HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;t>=0;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,n){return this.ctx&&this.ctx.listener?(t="number"!=typeof t?this._pos[1]:t,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof e)?this._pos:(this._pos=[e,t,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this):this},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){if(!this.ctx||!this.ctx.listener)return this;var s=this._orientation;return(t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e)?s:(this._orientation=[e,t,n,r,o,i],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(e,t,n,r,o,i),this)},Howl.prototype.init=(P=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],P.call(this,e)}),Howl.prototype.stereo=function(e,t){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,t)}}),n;var r=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var o=n._getSoundIds(t),i=0;i<o.length;i++){var s=n._soundById(o[i]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||I(s,r),"spatial"===r?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),n._emit("stereo",s._id)}}return n},Howl.prototype.pos=function(e,t,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,t,n,r)}}),o;if(t="number"!=typeof t?0:t,n="number"!=typeof n?-.5:n,void 0===r){if("number"!=typeof e)return o._pos;o._pos=[e,t,n]}for(var i=o._getSoundIds(r),s=0;s<i.length;s++){var a=o._soundById(i[s]);if(a){if("number"!=typeof e)return a._pos;a._pos=[e,t,n],a._node&&((!a._panner||a._panner.pan)&&I(a,"spatial"),void 0!==a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)):a._panner.setPosition(e,t,n)),o._emit("pos",a._id)}}return o},Howl.prototype.orientation=function(e,t,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,t,n,r)}}),o;if(t="number"!=typeof t?o._orientation[1]:t,n="number"!=typeof n?o._orientation[2]:n,void 0===r){if("number"!=typeof e)return o._orientation;o._orientation=[e,t,n]}for(var i=o._getSoundIds(r),s=0;s<i.length;s++){var a=o._soundById(i[s]);if(a){if("number"!=typeof e)return a._orientation;a._orientation=[e,t,n],a._node&&(a._panner||(a._pos||(a._pos=o._pos||[0,0,-.5]),I(a,"spatial")),void 0!==a._panner.orientationX?(a._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),a._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)):a._panner.setOrientation(e,t,n)),o._emit("orientation",a._id)}}return o},Howl.prototype.pannerAttr=function(){var e,t,n,r=arguments;if(!this._webAudio)return this;if(0===r.length)return this._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(n=this._soundById(parseInt(r[0],10)))?n._pannerAttr:this._pannerAttr;e=r[0],void 0===t&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:this._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:this._panningModel})}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var o=this._getSoundIds(t),i=0;i<o.length;i++)if(n=this._soundById(o[i])){var s=n._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var a=n._panner;a||(n._pos||(n._pos=this._pos||[0,0,-.5]),I(n,"spatial"),a=n._panner),a.coneInnerAngle=s.coneInnerAngle,a.coneOuterAngle=s.coneOuterAngle,a.coneOuterGain=s.coneOuterGain,a.distanceModel=s.distanceModel,a.maxDistance=s.maxDistance,a.refDistance=s.refDistance,a.rolloffFactor=s.rolloffFactor,a.panningModel=s.panningModel}return this},Sound.prototype.init=(L=Sound.prototype.init,function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,L.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}),Sound.prototype.reset=(B=Sound.prototype.reset,function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),B.call(this)}),I=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)};const st="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",sn=["1-0","0-1","1/2-1/2","*"],sr={b:[16,32,17,15],w:[-16,-32,-17,-15]},so={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},si=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ss=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],sa={p:0,n:1,b:2,r:3,q:4,k:5},sl={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},su={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},sc={w:[{square:su.a1,flag:sl.QSIDE_CASTLE},{square:su.h1,flag:sl.KSIDE_CASTLE}],b:[{square:su.a8,flag:sl.QSIDE_CASTLE},{square:su.h8,flag:sl.KSIDE_CASTLE}]};function sf(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function sd(e){var t=15&e,n=e>>4;return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function sp(e){return e===s_?sg:s_}function sh(e){return e.replace(/^\s+|\s+$/g,"")}const sg="b",s_="w",sm=function(){for(var e=[],t=su.a8;t<=su.h1;t++){if(136&t){t+=7;continue}e.push(sd(t))}return e}(),sv={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},sy=["white","black"],sb=["a","b","c","d","e","f","g","h"],sw=["1","2","3","4","5","6","7","8"],sx=[...sw].reverse(),sA=Array.prototype.concat(...sb.map(e=>sw.map(t=>e+t))),sE=e=>sA[8*e[0]+e[1]],sS=e=>[e.charCodeAt(0)-97,e.charCodeAt(1)-49],sT=sA.map(sS),sk=()=>{let e;return{start(){e=performance.now()},cancel(){e=void 0},stop(){if(!e)return 0;let t=performance.now()-e;return e=void 0,t}}},sO=e=>"white"===e?"black":"white",sC=(e,t)=>{let n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},sR=(e,t)=>e.role===t.role&&e.color===t.color,sP=e=>(t,n)=>[(n?t[0]:7-t[0])*e.width/8,(n?7-t[1]:t[1])*e.height/8],sL=(e,t)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px)`},sB=(e,t,n=1)=>{e.style.transform=`translate(${t[0]}px,${t[1]}px) scale(${n})`},sI=(e,t)=>{e.style.visibility=t?"visible":"hidden"},sM=e=>{var t;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(t=e.targetTouches)||void 0===t?void 0:t[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},sN=e=>2===e.button,sU=(e,t)=>{let n=document.createElement(e);return t&&(n.className=t),n};function sj(e,t,n){let r=sS(e);return t||(r[0]=7-r[0],r[1]=7-r[1]),[n.left+n.width*r[0]/8+n.width/16,n.top+n.height*(7-r[1])/8+n.height/16]}const sD=(e,t)=>Math.abs(e-t),sF=e=>(t,n,r,o)=>2>sD(t,r)&&("white"===e?o===n+1||n<=1&&o===n+2&&t===r:o===n-1||n>=6&&o===n-2&&t===r),s$=(e,t,n,r)=>{let o=sD(e,n),i=sD(t,r);return 1===o&&2===i||2===o&&1===i},sq=(e,t,n,r)=>sD(e,n)===sD(t,r),sH=(e,t,n,r)=>e===n||t===r,sz=(e,t,n,r)=>sq(e,t,n,r)||sH(e,t,n,r),sK=(e,t,n)=>(r,o,i,s)=>2>sD(r,i)&&2>sD(o,s)||n&&o===s&&o===("white"===e?0:7)&&(4===r&&(2===i&&t.includes(0)||6===i&&t.includes(7))||t.includes(i));function sW(e,t,n){let r=e.get(t);if(!r)return[];let o=sS(t),i=r.role,s="pawn"===i?sF(r.color):"knight"===i?s$:"bishop"===i?sq:"rook"===i?sH:"queen"===i?sz:sK(r.color,function(e,t){let n="white"===t?"1":"8",r=[];for(let[o,i]of e)o[1]===n&&i.color===t&&"rook"===i.role&&r.push(sS(o)[0]);return r}(e,r.color),n);return sT.filter(e=>(o[0]!==e[0]||o[1]!==e[1])&&s(o[0],o[1],e[0],e[1])).map(sE)}function sG(e,...t){e&&setTimeout(()=>e(...t),1)}function sV(e){e.premovable.current&&(e.premovable.current=void 0,sG(e.premovable.events.unset))}function sQ(e){let t=e.predroppable;t.current&&(t.current=void 0,sG(t.events.unset))}function sX(e,t,n){let r=e.pieces.get(t),o=e.pieces.get(n);if(t===n||!r)return!1;let i=o&&o.color!==r.color?o:void 0;return n===e.selected&&s5(e),sG(e.events.move,t,n,i),!function(e,t,n){if(!e.autoCastle)return!1;let r=e.pieces.get(t);if(!r||"king"!==r.role)return!1;let o=sS(t),i=sS(n);if(0!==o[1]&&7!==o[1]||o[1]!==i[1])return!1;4!==o[0]||e.pieces.has(n)||(6===i[0]?n=sE([7,i[1]]):2===i[0]&&(n=sE([0,i[1]])));let s=e.pieces.get(n);return!!s&&s.color===r.color&&"rook"===s.role&&(e.pieces.delete(t),e.pieces.delete(n),o[0]<i[0]?(e.pieces.set(sE([6,i[1]]),r),e.pieces.set(sE([5,i[1]]),s)):(e.pieces.set(sE([2,i[1]]),r),e.pieces.set(sE([3,i[1]]),s)),!0)}(e,t,n)&&(e.pieces.set(n,r),e.pieces.delete(t)),e.lastMove=[t,n],e.check=void 0,sG(e.events.change),i||!0}function sJ(e,t,n,r){if(e.pieces.has(n)){if(!r)return!1;e.pieces.delete(n)}return sG(e.events.dropNewPiece,t,n),e.pieces.set(n,t),e.lastMove=[n],e.check=void 0,sG(e.events.change),e.movable.dests=void 0,e.turnColor=sO(e.turnColor),!0}function sY(e,t,n){let r=sX(e,t,n);return r&&(e.movable.dests=void 0,e.turnColor=sO(e.turnColor),e.animation.current=void 0),r}function sZ(e,t,n){if(s6(e,t,n)){let r=sY(e,t,n);if(r){let o=e.hold.stop();s5(e);let i={premove:!1,ctrlKey:e.stats.ctrlKey,holdTime:o};return!0!==r&&(i.captured=r),sG(e.movable.events.after,t,n,i),!0}}else if(function(e,t,n){var r,o;let i=null!==(o=null===(r=e.premovable.customDests)||void 0===r?void 0:r.get(t))&&void 0!==o?o:sW(e.pieces,t,e.premovable.castle);return t!==n&&s3(e,t)&&i.includes(n)}(e,t,n)){var r;return r={ctrlKey:e.stats.ctrlKey},sQ(e),e.premovable.current=[t,n],sG(e.premovable.events.set,t,n,r),s5(e),!0}return s5(e),!1}function s0(e,t,n,r){let o=e.pieces.get(t);if(o&&(function(e,t,n){let r=e.pieces.get(t);return!!r&&(t===n||!e.pieces.has(n))&&("both"===e.movable.color||e.movable.color===r.color&&e.turnColor===r.color)}(e,t,n)||r))e.pieces.delete(t),sJ(e,o,n,r),sG(e.movable.events.afterNewPiece,o.role,n,{premove:!1,predrop:!1});else if(o&&function(e,t,n){let r=e.pieces.get(t),o=e.pieces.get(n);return!!r&&(!o||o.color!==e.movable.color)&&e.predroppable.enabled&&("pawn"!==r.role||"1"!==n[1]&&"8"!==n[1])&&e.movable.color===r.color&&e.turnColor!==r.color}(e,t,n)){var i;i=o.role,sV(e),e.predroppable.current={role:i,key:n},sG(e.predroppable.events.set,i,n)}else sV(e),sQ(e);e.pieces.delete(t),s5(e)}function s1(e,t,n){if(sG(e.events.select,t),e.selected){if(e.selected!==t||e.draggable.enabled){if((e.selectable.enabled||n)&&e.selected!==t&&sZ(e,e.selected,t)){e.stats.dragged=!1;return}}else{s5(e),e.hold.cancel();return}}(e.selectable.enabled||e.draggable.enabled)&&(s8(e,t)||s3(e,t))&&(s2(e,t),e.hold.start())}function s2(e,t){e.selected=t,s3(e,t)?e.premovable.customDests||(e.premovable.dests=sW(e.pieces,t,e.premovable.castle)):e.premovable.dests=void 0}function s5(e){e.selected=void 0,e.premovable.dests=void 0,e.hold.cancel()}function s8(e,t){let n=e.pieces.get(t);return!!n&&("both"===e.movable.color||e.movable.color===n.color&&e.turnColor===n.color)}const s6=(e,t,n)=>{var r,o;return t!==n&&s8(e,t)&&(e.movable.free||!!(null===(o=null===(r=e.movable.dests)||void 0===r?void 0:r.get(t))||void 0===o?void 0:o.includes(n)))};function s3(e,t){let n=e.pieces.get(t);return!!n&&e.premovable.enabled&&e.movable.color===n.color&&e.turnColor!==n.color}function s4(e){let t=e.premovable.current;if(!t)return!1;let n=t[0],r=t[1],o=!1;if(s6(e,n,r)){let t=sY(e,n,r);if(t){let i={premove:!0};!0!==t&&(i.captured=t),sG(e.movable.events.after,n,r,i),o=!0}}return sV(e),o}function s7(e){sV(e),sQ(e),s5(e)}function s9(e){e.movable.color=e.movable.dests=e.animation.current=void 0,s7(e)}function ae(e,t,n){let r=Math.floor(8*(e[0]-n.left)/n.width);t||(r=7-r);let o=7-Math.floor(8*(e[1]-n.top)/n.height);return t||(o=7-o),r>=0&&r<8&&o>=0&&o<8?sE([r,o]):void 0}const at=e=>"white"===e.orientation,an="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",ar={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},ao={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"};function ai(e){"start"===e&&(e=an);let t=new Map,n=7,r=0;for(let o of e)switch(o){case" ":case"[":return t;case"/":if(--n<0)return t;r=0;break;case"~":{let e=t.get(sE([r-1,n]));e&&(e.promoted=!0);break}default:{let e=o.charCodeAt(0);if(e<57)r+=e-48;else{let e=o.toLowerCase();t.set(sE([r,n]),{role:ar[e],color:o===e?"black":"white"}),++r}}}return t}function as(e,t){t.animation&&(al(e.animation,t.animation),70>(e.animation.duration||0)&&(e.animation.enabled=!1))}function aa(e,t){var n,r,o;if((null===(n=t.movable)||void 0===n?void 0:n.dests)&&(e.movable.dests=void 0),(null===(r=t.drawable)||void 0===r?void 0:r.autoShapes)&&(e.drawable.autoShapes=[]),al(e,t),t.fen&&(e.pieces=ai(t.fen),e.drawable.shapes=(null===(o=t.drawable)||void 0===o?void 0:o.shapes)||[]),"check"in t&&function(e,t){if(e.check=void 0,!0===t&&(t=e.turnColor),t)for(let[n,r]of e.pieces)"king"===r.role&&r.color===t&&(e.check=n)}(e,t.check||!1),"lastMove"in t&&!t.lastMove?e.lastMove=void 0:t.lastMove&&(e.lastMove=t.lastMove),e.selected&&s2(e,e.selected),as(e,t),!e.movable.rookCastle&&e.movable.dests){let t="white"===e.movable.color?"1":"8",n="e"+t,r=e.movable.dests.get(n),o=e.pieces.get(n);if(!r||!o||"king"!==o.role)return;e.movable.dests.set(n,r.filter(e=>!(e==="a"+t&&r.includes("c"+t))&&!(e==="h"+t&&r.includes("g"+t))))}}function al(e,t){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)&&au(e[n])&&au(t[n])?al(e[n],t[n]):e[n]=t[n])}function au(e){if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}const ac=(e,t)=>t.animation.enabled?function(e,t){let n=new Map(t.pieces),r=e(t),o=function(e,t){let n,r,o;let i=new Map,s=[],a=new Map,l=[],u=[],c=new Map;for(let[t,n]of e)c.set(t,ad(t,n));for(let e of sA)n=t.pieces.get(e),r=c.get(e),n?r?sR(n,r.piece)||(l.push(r),u.push(ad(e,n))):u.push(ad(e,n)):r&&l.push(r);for(let e of u)(r=ap(e,l.filter(t=>sR(e.piece,t.piece))))&&(o=[r.pos[0]-e.pos[0],r.pos[1]-e.pos[1]],i.set(e.key,o.concat(o)),s.push(r.key));for(let e of l)s.includes(e.key)||a.set(e.key,e.piece);return{anims:i,fadings:a}}(n,t);if(o.anims.size||o.fadings.size){let e=t.animation.current&&t.animation.current.start;t.animation.current={start:performance.now(),frequency:1/t.animation.duration,plan:o},e||function e(t,n){let r=t.animation.current;if(void 0===r){t.dom.destroyed||t.dom.redrawNow();return}let o=1-(n-r.start)*r.frequency;if(o<=0)t.animation.current=void 0,t.dom.redrawNow();else{let n=ah(o);for(let e of r.plan.anims.values())e[2]=e[0]*n,e[3]=e[1]*n;t.dom.redrawNow(!0),requestAnimationFrame((n=performance.now())=>e(t,n))}}(t,performance.now())}else t.dom.redraw();return r}(e,t):af(e,t);function af(e,t){let n=e(t);return t.dom.redraw(),n}const ad=(e,t)=>({key:e,pos:sS(e),piece:t}),ap=(e,t)=>t.sort((t,n)=>sC(e.pos,t.pos)-sC(e.pos,n.pos))[0],ah=e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,ag=["green","red","blue","yellow"];function a_(e,t){e.drawable.current&&(e.drawable.current.pos=sM(t))}function am(e){let t=e.drawable.current;t&&(t.mouseSq&&function(e,t){let n=e=>e.orig===t.orig&&e.dest===t.dest,r=e.shapes.find(n);r&&(e.shapes=e.shapes.filter(e=>!n(e))),r&&r.brush===t.brush||e.shapes.push({orig:t.orig,dest:t.dest,brush:t.brush}),ay(e)}(e.drawable,t),av(e))}function av(e){e.drawable.current&&(e.drawable.current=void 0,e.dom.redraw())}function ay(e){e.onChange&&e.onChange(e.shapes)}function ab(e){requestAnimationFrame(()=>{var t;let n=e.draggable.current;if(!n)return;(null===(t=e.animation.current)||void 0===t?void 0:t.plan.anims.has(n.orig))&&(e.animation.current=void 0);let r=e.pieces.get(n.orig);if(r&&sR(r,n.piece)){if(!n.started&&sC(n.pos,n.origPos)>=Math.pow(e.draggable.distance,2)&&(n.started=!0),n.started){if("function"==typeof n.element){let e=n.element();if(!e)return;e.cgDragging=!0,e.classList.add("dragging"),n.element=e}let t=e.dom.bounds();sL(n.element,[n.pos[0]-t.left-t.width/16,n.pos[1]-t.top-t.height/16]),n.keyHasChanged||(n.keyHasChanged=n.orig!==ae(n.pos,at(e),t))}}else aA(e);ab(e)})}function aw(e,t){e.draggable.current&&(!t.touches||t.touches.length<2)&&(e.draggable.current.pos=sM(t))}function ax(e,t){let n=e.draggable.current;if(!n)return;if("touchend"===t.type&&!1!==t.cancelable&&t.preventDefault(),"touchend"===t.type&&n.originTarget!==t.target&&!n.newPiece){e.draggable.current=void 0;return}sV(e),sQ(e);let r=ae(sM(t)||n.pos,at(e),e.dom.bounds());r&&n.started&&n.orig!==r?n.newPiece?s0(e,n.orig,r,n.force):(e.stats.ctrlKey=t.ctrlKey,sZ(e,n.orig,r)&&(e.stats.dragged=!0)):n.newPiece?e.pieces.delete(n.orig):e.draggable.deleteOnDropOff&&!r&&(e.pieces.delete(n.orig),sG(e.events.change)),(n.orig===n.previouslySelected||n.keyHasChanged)&&(n.orig===r||!r)?s5(e):e.selectable.enabled||s5(e),aE(e),e.draggable.current=void 0,e.dom.redraw()}function aA(e){let t=e.draggable.current;t&&(t.newPiece&&e.pieces.delete(t.orig),e.draggable.current=void 0,s5(e),aE(e),e.dom.redraw())}function aE(e){let t=e.dom.elements;t.ghost&&sI(t.ghost,!1)}function aS(e,t){let n=e.dom.elements.board.firstChild;for(;n;){if(n.cgKey===t&&"PIECE"===n.tagName)return n;n=n.nextSibling}}function aT(e,t){e.exploding&&(t?e.exploding.stage=t:e.exploding=void 0,e.dom.redraw())}const ak={hilitePrimary:{key:"hilitePrimary",color:"#3291ff",opacity:1,lineWidth:1},hiliteWhite:{key:"hiliteWhite",color:"#ffffff",opacity:1,lineWidth:1}};function aO({orig:e,dest:t,brush:n,piece:r,modifiers:o,customSvg:i,label:s},a,l,u){var c,f;return[u.width,u.height,l,e,t,n,a&&"-",r&&[r.color,r.role,r.scale].filter(e=>e).join(","),o&&[o.lineWidth,o.hilite&&"*"].filter(e=>e).join(","),i&&`custom-${aC(i.html)},${null!==(f=null===(c=i.center)||void 0===c?void 0:c[0])&&void 0!==f?f:"o"}`,s&&`label-${aC(s.text)}`].filter(e=>e).join(",")}function aC(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)>>>0;return t.toString()}function aR(e){return["#ffffff","#fff","white"].includes(e.color)?ak.hilitePrimary:ak.hiliteWhite}function aP(e,t){return"white"===t?e:[7-e[0],7-e[1]]}function aL(e,t){return!0===(e&&t.has(e)&&t.get(e).size>1)}function aB(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function aI(e,t){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.setAttribute(n,t[n]);return e}function aM(e,t){return t?{color:e.color,opacity:Math.round(10*e.opacity)/10,lineWidth:Math.round(t.lineWidth||e.lineWidth),key:[e.key,t.lineWidth].filter(e=>e).join("")}:e}function aN(e,t){return(e.opacity||1)*(t?.9:1)}function aU(e,t){let n=Math.min(1,t.width/t.height),r=Math.min(1,t.height/t.width);return[(e[0]-3.5)*n,(3.5-e[1])*r]}function aj(e,t,n=!0){let r=Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI;return n?(Math.round(8*r/Math.PI)+16)%16:r}function aD(e,t,n){let r=Math.sqrt([e[0]-t[0],e[1]-t[1]].reduce((e,t)=>e+t*t,0)),o=aj(e,t,!1);if(n&&(r-=33/64,n.size>1)){r-=10/64;let o=aj(e,t);(n.has((o+1)%16)||n.has((o+15)%16))&&1&o&&(r-=.4)}return[e[0]-Math.cos(o)*r,e[1]-Math.sin(o)*r].map(e=>e+.5)}function aF(e,t){let n;let r=sU("coords",t);for(let t of e)(n=sU("coord")).textContent=t,r.appendChild(n);return r}function a$(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}const aq=e=>t=>{e.draggable.current?aA(e):e.drawable.current?av(e):t.shiftKey||sN(t)?e.drawable.enabled&&function(e,t){var n;if(t.touches&&t.touches.length>1)return;t.stopPropagation(),t.preventDefault(),t.ctrlKey?s5(e):s7(e);let r=sM(t),o=ae(r,at(e),e.dom.bounds());o&&(e.drawable.current={orig:o,pos:r,brush:ag[((t.shiftKey||t.ctrlKey)&&sN(t)?1:0)+(t.altKey||t.metaKey||(null===(n=t.getModifierState)||void 0===n?void 0:n.call(t,"AltGraph"))?2:0)],snapToValidMove:e.drawable.defaultSnapToValidMove},function e(t){requestAnimationFrame(()=>{let n=t.drawable.current;if(n){let r=ae(n.pos,at(t),t.dom.bounds());r||(n.snapToValidMove=!1);let o=n.snapToValidMove?function(e,t,n,r){let o=sS(e),i=sT.filter(e=>sz(o[0],o[1],e[0],e[1])||s$(o[0],o[1],e[0],e[1])),s=i.map(e=>sj(sE(e),n,r)).map(e=>sC(t,e)),[,a]=s.reduce((e,t,n)=>e[0]<t?e:[t,n],[s[0],0]);return sE(i[a])}(n.orig,n.pos,at(t),t.dom.bounds()):r;o!==n.mouseSq&&(n.mouseSq=o,n.dest=o!==n.orig?o:void 0,t.dom.redrawNow()),e(t)}})}(e))}(e,t):e.viewOnly||(e.dropmode.active?function(e,t){if(!e.dropmode.active)return;sV(e),sQ(e);let n=e.dropmode.piece;if(n){e.pieces.set("a0",n);let r=sM(t),o=r&&ae(r,at(e),e.dom.bounds());o&&s0(e,"a0",o)}e.dom.redraw()}(e,t):function(e,t){if(!(e.trustAllEvents||t.isTrusted)||void 0!==t.buttons&&t.buttons>1||t.touches&&t.touches.length>1)return;let n=e.dom.bounds(),r=sM(t),o=ae(r,at(e),n);if(!o)return;let i=e.pieces.get(o),s=e.selected;if(!s&&e.drawable.enabled&&(e.drawable.eraseOnClick||!i||i.color!==e.turnColor)&&e.drawable.shapes.length&&(e.drawable.shapes=[],e.dom.redraw(),ay(e.drawable)),!1!==t.cancelable&&(!t.touches||e.blockTouchScroll||i||s||function(e,t){let n=at(e),r=e.dom.bounds(),o=Math.pow(r.width/8,2);for(let i of e.pieces.keys())if(sC(sj(i,n,r),t)<=o)return!0;return!1}(e,r)))t.preventDefault();else if(t.touches)return;let a=!!e.premovable.current,l=!!e.predroppable.current;e.stats.ctrlKey=t.ctrlKey,e.selected&&s6(e,e.selected,o)?ac(e=>s1(e,o),e):s1(e,o);let u=e.selected===o,c=aS(e,o);if(i&&c&&u&&function(e,t){let n=e.pieces.get(t);return!!n&&e.draggable.enabled&&("both"===e.movable.color||e.movable.color===n.color&&(e.turnColor===n.color||e.premovable.enabled))}(e,o)){e.draggable.current={orig:o,piece:i,origPos:r,pos:r,started:e.draggable.autoDistance&&e.stats.dragged,element:c,previouslySelected:s,originTarget:t.target,keyHasChanged:!1},c.cgDragging=!0,c.classList.add("dragging");let a=e.dom.elements.ghost;a&&(a.className=`ghost ${i.color} ${i.role}`,sL(a,sP(n)(sS(o),at(e))),sI(a,!0)),ab(e)}else a&&sV(e),l&&sQ(e);e.dom.redraw()}(e,t))},aH=(e,t,n)=>r=>{e.drawable.current?e.drawable.enabled&&n(e,r):e.viewOnly||t(e,r)};function az(e){var t,n;let r=e.dom.elements.wrap.getBoundingClientRect(),o=e.dom.elements.container,i=r.height/r.width,s=8*Math.floor(r.width*window.devicePixelRatio/8)/window.devicePixelRatio,a=s*i;o.style.width=s+"px",o.style.height=a+"px",e.dom.bounds.clear(),null===(t=e.addDimensionsCssVarsTo)||void 0===t||t.style.setProperty("---cg-width",s+"px"),null===(n=e.addDimensionsCssVarsTo)||void 0===n||n.style.setProperty("---cg-height",a+"px")}const aK=e=>"PIECE"===e.tagName,aW=e=>"SQUARE"===e.tagName;function aG(e,t){for(let n of t)e.dom.elements.board.removeChild(n)}function aV(e,t){let n=e[1];return`${t?10-n:3+n}`}const aQ=e=>`${e.color} ${e.role}`;function aX(e,t,n){let r=e.get(t);r?e.set(t,`${r} ${n}`):e.set(t,n)}function aJ(e,t,n){let r=e.get(t);r?r.push(n):e.set(t,[n])}const aY=e=>{var t,n,r;return[e.orig,null===(t=e.piece)||void 0===t?void 0:t.role,null===(n=e.piece)||void 0===n?void 0:n.color,null===(r=e.piece)||void 0===r?void 0:r.scale].join(",")};function aZ(e){return e.clientX||0===e.clientX?[e.clientX,e.clientY]:e.targetTouches?.[0]?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0}var a0={};a0=new URL("LichessMove.9d5724cf.ogg",import.meta.url).toString();var a1={};a1=new URL("LichessMove.1fbc6ead.mp3",import.meta.url).toString();var a2={};a2=new URL("LichessCapture.906a0b84.ogg",import.meta.url).toString();var a5={};a5=new URL("LichessCapture.85137d33.mp3",import.meta.url).toString();var a8={};a8=new URL("LichessGenericNotify.f5dfe933.ogg",import.meta.url).toString();var a6={};a6=new URL("LichessGenericNotify.0c4096bf.mp3",import.meta.url).toString();const a3="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",a4=new A({src:[/*@__PURE__*/s(a0),/*@__PURE__*/s(a1)]}),a7=new A({src:[/*@__PURE__*/s(a2),/*@__PURE__*/s(a5)]}),a9=new A({src:[/*@__PURE__*/s(a8),/*@__PURE__*/s(a6)]});function le(e){let t=new Map;return sm.forEach(n=>{let r=e.moves({square:n,verbose:!0});r.length&&t.set(n,r.map(e=>e.to))}),t}function lt(e){return"w"===e.turn()?"white":"black"}function ln(e){return new Promise((t,n)=>{if(oq.store("state").promotionColor=lt(lo),"white"===oq.store("settings").playerColor){let t="abcdefgh".indexOf(e[0]);oq.store("state").promotionLeft=(12.5*t).toString()+"%"}else{let t="hgfedcba".indexOf(e[0]);oq.store("state").promotionLeft=(12.5*t).toString()+"%"}oq.store("settings").playerColor===lt(lo)?oq.store("state").promotionTop=["0%","12.5%","25%","37.5%"]:oq.store("state").promotionTop=["87.5%","75%","62.5%","50%"],oq.store("state").promotionResolve=t})}function lr(e,t,n=0){return async(r,o)=>{if(oq.store("state").lockLichessOpeningPlay)return;if(oq.store("state").lockLichessOpeningPlay=!0,r&&o){let n;if("p"===t.get(r).type&&"18".includes(o[1])&&(oq.store("state").isPromoting=!0,n=await ln(o),oq.store("state").isPromoting=!1,!1===n))return;t.move({from:r,to:o,promotion:n}),oq.store("settings").enableSounds&&(t.history().pop().includes("x")?a7.play():a4.play()),e.set({fen:t.fen(),check:t.in_check()}),oq.store("state").updateState()}oq.store("state").isThinking=!0;let i=oq.store("settings").selectedDatabase,s=oq.store("settings").selectedTimeControls.join(","),a=oq.store("settings").selectedRatings.join(","),l=`https://explorer.lichess.ovh/${i}?variant=standard&fen=${t.fen()}`+("lichess"===i?`&speeds=${s}&ratings=${a}`:""),u=function(e){let t;let n=e.moves.reduce((e,t)=>e+t.white+t.black+t.draws,0);for(let t=0;t<e.moves.length;t++){let r=e.moves[t];r.total=r.white+r.black+r.draws,r.percentage=r.total/n,r.cumulativePercentage=t>0?r.percentage+e.moves[t-1].cumulativePercentage:r.percentage,r.from=r.uci.slice(0,2),r.to=r.uci.slice(2,4)}let r=Math.random();for(let n of e.moves)if(r<=n.cumulativePercentage){t=n;break}return t}((await n$.get(l)).data);void 0!==u?(await new Promise(e=>setTimeout(e,n)),t.move(u.san),e.move(u.from,u.to),oq.store("settings").enableSounds&&(t.history().pop().includes("x")?a7.play():a4.play()),e.set({fen:t.fen(),turnColor:lt(t),check:t.in_check(),movable:{color:lt(t),dests:le(t)}}),oq.store("state").updateState()):(oq.store("settings").enableSounds&&a9.play(),oq.store("state").noGameFound=!0),oq.store("state").isThinking=!1,oq.store("state").lockLichessOpeningPlay=!1}}const lo=function(e){var t=Array(128),n={w:-1,b:-1},r=s_,o={w:0,b:0},i=-1,s=0,a=1,l=[],u={},c={};function f(e){void 0===e&&(e=!1),t=Array(128),n={w:-1,b:-1},r=s_,o={w:0,b:0},i=-1,s=0,a=1,l=[],e||(u={}),c={},m(g())}function d(){for(var e=[],t={},n=function(e){e in c&&(t[e]=c[e])};l.length>0;)e.push(R());for(n(g());e.length>0;)C(e.pop()),n(g());c=t}function p(e,t){void 0===t&&(t=!1);var n=e.split(/\s+/),l=n[0],u=0;if(!h(e).valid)return!1;f(t);for(var c=0;c<l.length;c++){var d=l.charAt(c);if("/"===d)u+=8;else if(-1!=="0123456789".indexOf(d))u+=parseInt(d,10);else{var p=d<"a"?s_:sg;y({type:d.toLowerCase(),color:p},sd(u)),u++}}return r=n[1],n[2].indexOf("K")>-1&&(o.w|=sl.KSIDE_CASTLE),n[2].indexOf("Q")>-1&&(o.w|=sl.QSIDE_CASTLE),n[2].indexOf("k")>-1&&(o.b|=sl.KSIDE_CASTLE),n[2].indexOf("q")>-1&&(o.b|=sl.QSIDE_CASTLE),i="-"===n[3]?-1:su[n[3]],s=parseInt(n[4],10),a=parseInt(n[5],10),m(g()),!0}function h(e){var t={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},n=e.split(/\s+/);if(6!==n.length)return{valid:!1,error_number:1,error:t[1]};if(isNaN(parseInt(n[5]))||0>=parseInt(n[5],10))return{valid:!1,error_number:2,error:t[2]};if(isNaN(parseInt(n[4]))||0>parseInt(n[4],10))return{valid:!1,error_number:3,error:t[3]};if(!/^(-|[abcdefgh][36])$/.test(n[3]))return{valid:!1,error_number:4,error:t[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(n[2]))return{valid:!1,error_number:5,error:t[5]};if(!/^(w|b)$/.test(n[1]))return{valid:!1,error_number:6,error:t[6]};var r=n[0].split("/");if(8!==r.length)return{valid:!1,error_number:7,error:t[7]};for(var o=0;o<r.length;o++){for(var i=0,s=!1,a=0;a<r[o].length;a++)if(isNaN(r[o][a])){if(!/^[prnbqkPRNBQK]$/.test(r[o][a]))return{valid:!1,error_number:9,error:t[9]};i+=1,s=!1}else{if(s)return{valid:!1,error_number:8,error:t[8]};i+=parseInt(r[o][a],10),s=!0}if(8!==i)return{valid:!1,error_number:10,error:t[10]}}return"3"==n[3][1]&&"w"==n[1]||"6"==n[3][1]&&"b"==n[1]?{valid:!1,error_number:11,error:t[11]}:{valid:!0,error_number:0,error:t[0]}}function g(){for(var e=0,n="",l=su.a8;l<=su.h1;l++){if(null==t[l])e++;else{e>0&&(n+=e,e=0);var u=t[l].color,c=t[l].type;n+=u===s_?c.toUpperCase():c.toLowerCase()}l+1&136&&(e>0&&(n+=e),l!==su.h1&&(n+="/"),e=0,l+=8)}var f="";o[s_]&sl.KSIDE_CASTLE&&(f+="K"),o[s_]&sl.QSIDE_CASTLE&&(f+="Q"),o[sg]&sl.KSIDE_CASTLE&&(f+="k"),o[sg]&sl.QSIDE_CASTLE&&(f+="q"),f=f||"-";var d=-1===i?"-":sd(i);return[n,r,f,d,s,a].join(" ")}function _(e){for(var t=0;t<e.length;t+=2)"string"==typeof e[t]&&"string"==typeof e[t+1]&&(u[e[t]]=e[t+1]);return u}function m(e){l.length>0||(e!==st?(u.SetUp="1",u.FEN=e):(delete u.SetUp,delete u.FEN))}function v(e){var n=t[su[e]];return n?{type:n.type,color:n.color}:null}function y(e,r){if(!("type"in e&&"color"in e)||-1==="pnbrqkPNBRQK".indexOf(e.type.toLowerCase())||!(r in su))return!1;var o=su[r];return("k"!=e.type||-1==n[e.color]||n[e.color]==o)&&(t[o]={type:e.type,color:e.color},"k"===e.type&&(n[e.color]=o),m(g()),!0)}function b(e,t,n,o,i){var s={color:r,from:t,to:n,flags:o,piece:e[t].type};return i&&(s.flags|=sl.PROMOTION,s.promotion=i),e[n]?s.captured=e[n].type:o&sl.EP_CAPTURE&&(s.captured="p"),s}function w(e){function s(e,t,n,r,o){if("p"===e[n].type&&(r>>4==0||r>>4==7))for(var i=["q","r","b","n"],s=0,a=i.length;s<a;s++)t.push(b(e,n,r,o,i[s]));else t.push(b(e,n,r,o))}var a=[],l=r,u=sp(l),c={b:1,w:6},f=su.a8,d=su.h1,p=!1,h=void 0===e||!("legal"in e)||e.legal,g=void 0===e||!("piece"in e)||"string"!=typeof e.piece||e.piece.toLowerCase();if(void 0!==e&&"square"in e){if(!(e.square in su))return[];f=d=su[e.square],p=!0}for(var _=f;_<=d;_++){if(136&_){_+=7;continue}var m=t[_];if(null!=m&&m.color===l){if("p"===m.type&&(!0===g||"p"===g)){var v=_+sr[l][0];if(null==t[v]){s(t,a,_,v,sl.NORMAL);var v=_+sr[l][1];c[l]===_>>4&&null==t[v]&&s(t,a,_,v,sl.BIG_PAWN)}for(y=2;y<4;y++){var v=_+sr[l][y];136&v||(null!=t[v]&&t[v].color===u?s(t,a,_,v,sl.CAPTURE):v===i&&s(t,a,_,i,sl.EP_CAPTURE))}}else if(!0===g||g===m.type)for(var y=0,w=so[m.type].length;y<w;y++)for(var x=so[m.type][y],v=_;!(136&(v+=x));){if(null==t[v])s(t,a,_,v,sl.NORMAL);else{if(t[v].color===l)break;s(t,a,_,v,sl.CAPTURE);break}if("n"===m.type||"k"===m.type)break}}}if((!0===g||"k"===g)&&(!p||d===n[l])){if(o[l]&sl.KSIDE_CASTLE){var S=n[l],T=S+2;null!=t[S+1]||null!=t[T]||A(u,n[l])||A(u,S+1)||A(u,T)||s(t,a,n[l],T,sl.KSIDE_CASTLE)}if(o[l]&sl.QSIDE_CASTLE){var S=n[l],T=S-2;null!=t[S-1]||null!=t[S-2]||null!=t[S-3]||A(u,n[l])||A(u,S-1)||A(u,T)||s(t,a,n[l],T,sl.QSIDE_CASTLE)}}if(!h)return a;for(var k=[],_=0,w=a.length;_<w;_++)C(a[_]),E(l)||k.push(a[_]),R();return k}function x(e,t){var n="";if(e.flags&sl.KSIDE_CASTLE)n="O-O";else if(e.flags&sl.QSIDE_CASTLE)n="O-O-O";else{if("p"!==e.piece){var o=function(e,t){for(var n=e.from,r=e.to,o=e.piece,i=0,s=0,a=0,l=0,u=t.length;l<u;l++){var c=t[l].from,f=t[l].to;o===t[l].piece&&n!==c&&r===f&&(i++,n>>4==c>>4&&s++,(15&n)==(15&c)&&a++)}return i>0?s>0&&a>0?sd(n):a>0?sd(n).charAt(1):sd(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+o}e.flags&(sl.CAPTURE|sl.EP_CAPTURE)&&("p"===e.piece&&(n+=sd(e.from)[0]),n+="x"),n+=sd(e.to),e.flags&sl.PROMOTION&&(n+="="+e.promotion.toUpperCase())}return C(e),E(r)&&(S()?n+="#":n+="+"),R(),n}function A(e,n){for(var r=su.a8;r<=su.h1;r++){if(136&r){r+=7;continue}if(null!=t[r]&&t[r].color===e){var o=t[r],i=r-n,s=i+119;if(si[s]&1<<sa[o.type]){if("p"===o.type){if(i>0){if(o.color===s_)return!0}else if(o.color===sg)return!0;continue}if("n"===o.type||"k"===o.type)return!0;for(var a=ss[s],l=r+a,u=!1;l!==n;){if(null!=t[l]){u=!0;break}l+=a}if(!u)return!0}}}return!1}function E(e){return A(sp(e),n[e])}function S(){return E(r)&&0===w().length}function T(){return!E(r)&&0===w().length}function k(){for(var e={},n=[],r=0,o=0,i=su.a8;i<=su.h1;i++){if(o=(o+1)%2,136&i){i+=7;continue}var s=t[i];s&&(e[s.type]=s.type in e?e[s.type]+1:1,"b"===s.type&&n.push(o),r++)}if(2===r||3===r&&(1===e.b||1===e.n))return!0;if(r===e.b+2){for(var a=0,l=n.length,i=0;i<l;i++)a+=n[i];if(0===a||a===l)return!0}return!1}function O(){for(var e=[],t={},n=!1;;){var r=R();if(!r)break;e.push(r)}for(;;){var o=g().split(" ").slice(0,4).join(" ");if(t[o]=o in t?t[o]+1:1,t[o]>=3&&(n=!0),!e.length)break;C(e.pop())}return n}function C(e){var u=r,c=sp(u);if(l.push({move:e,kings:{b:n.b,w:n.w},turn:r,castling:{b:o.b,w:o.w},ep_square:i,half_moves:s,move_number:a}),t[e.to]=t[e.from],t[e.from]=null,e.flags&sl.EP_CAPTURE&&(r===sg?t[e.to-16]=null:t[e.to+16]=null),e.flags&sl.PROMOTION&&(t[e.to]={type:e.promotion,color:u}),"k"===t[e.to].type){if(n[t[e.to].color]=e.to,e.flags&sl.KSIDE_CASTLE){var f=e.to-1,d=e.to+1;t[f]=t[d],t[d]=null}else if(e.flags&sl.QSIDE_CASTLE){var f=e.to+1,d=e.to-2;t[f]=t[d],t[d]=null}o[u]=""}if(o[u]){for(var p=0,h=sc[u].length;p<h;p++)if(e.from===sc[u][p].square&&o[u]&sc[u][p].flag){o[u]^=sc[u][p].flag;break}}if(o[c]){for(var p=0,h=sc[c].length;p<h;p++)if(e.to===sc[c][p].square&&o[c]&sc[c][p].flag){o[c]^=sc[c][p].flag;break}}i=e.flags&sl.BIG_PAWN?"b"===r?e.to-16:e.to+16:-1,"p"===e.piece?s=0:e.flags&(sl.CAPTURE|sl.EP_CAPTURE)?s=0:s++,r===sg&&a++,r=sp(r)}function R(){var e,u,c=l.pop();if(null==c)return null;var f=c.move;n=c.kings,r=c.turn,o=c.castling,i=c.ep_square,s=c.half_moves,a=c.move_number;var d=r,p=sp(r);return t[f.from]=t[f.to],t[f.from].type=f.piece,t[f.to]=null,f.flags&sl.CAPTURE?t[f.to]={type:f.captured,color:p}:f.flags&sl.EP_CAPTURE&&(t[d===sg?f.to-16:f.to+16]={type:"p",color:p}),f.flags&(sl.KSIDE_CASTLE|sl.QSIDE_CASTLE)&&(f.flags&sl.KSIDE_CASTLE?(e=f.to+1,u=f.to-1):f.flags&sl.QSIDE_CASTLE&&(e=f.to-2,u=f.to+1),t[e]=t[u],t[u]=null),f}function P(e,t){for(var n=sf(e),r=0;r<2;r++){if(1==r){if(!t)return null;var o=!1,i=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(i){var s=i[1],a=i[2],l=i[3],u=i[4];1==a.length&&(o=!0)}else{var i=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/);if(i){var s=i[1],a=i[2],l=i[3],u=i[4];if(1==a.length)var o=!0}}}for(var c=function(e){var t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return"p"}return"o"===(t=t.toLowerCase())?"k":t}(n),f=w({legal:!0,piece:s||c}),d=0,p=f.length;d<p;d++)switch(r){case 0:if(n===sf(x(f[d],f)))return f[d];break;case 1:if(i){if((!s||s.toLowerCase()==f[d].piece)&&su[a]==f[d].from&&su[l]==f[d].to&&(!u||u.toLowerCase()==f[d].promotion))return f[d];if(o){var h=sd(f[d].from);if((!s||s.toLowerCase()==f[d].piece)&&su[l]==f[d].to&&(a==h[0]||a==h[1])&&(!u||u.toLowerCase()==f[d].promotion))return f[d]}}}}return null}function L(e){var t=function e(t){var n=t instanceof Array?[]:{};for(var r in t)"object"==typeof r?n[r]=e(t[r]):n[r]=t[r];return n}(e);t.san=x(t,w({legal:!0})),t.to=sd(t.to),t.from=sd(t.from);var n="";for(var r in sl)sl[r]&t.flags&&(n+=sv[r]);return t.flags=n,t}return void 0===e?p(st):p(e),{load:function(e){return p(e)},reset:function(){p(st)},moves:function(e){for(var t=w(e),n=[],r=0,o=t.length;r<o;r++)void 0!==e&&"verbose"in e&&e.verbose?n.push(L(t[r])):n.push(x(t[r],w({legal:!0})));return n},in_check:function(){return E(r)},in_checkmate:function(){return S()},in_stalemate:function(){return T()},in_draw:function(){return s>=100||T()||k()||O()},insufficient_material:function(){return k()},in_threefold_repetition:function(){return O()},game_over:function(){return s>=100||S()||T()||k()||O()},validate_fen:function(e){return h(e)},fen:function(){return g()},board:function(){for(var e=[],n=[],r=su.a8;r<=su.h1;r++)null==t[r]?n.push(null):n.push({square:sd(r),type:t[r].type,color:t[r].color}),r+1&136&&(e.push(n),n=[],r+=8);return e},pgn:function(e){var t="object"==typeof e&&"string"==typeof e.newline_char?e.newline_char:"\n",n="object"==typeof e&&"number"==typeof e.max_width?e.max_width:0,r=[],o=!1;for(var i in u)r.push("["+i+' "'+u[i]+'"]'+t),o=!0;o&&l.length&&r.push(t);for(var s=function(e){var t=c[g()];if(void 0!==t){var n=e.length>0?" ":"";e=`${e}${n}{${t}}`}return e},f=[];l.length>0;)f.push(R());var d=[],p="";for(0===f.length&&d.push(s(""));f.length>0;){p=s(p);var h=f.pop();if(l.length||"b"!==h.color)"w"===h.color&&(p.length&&d.push(p),p=a+".");else{let e=`${a}. ...`;p=p?`${p} ${e}`:e}p=p+" "+x(h,w({legal:!0})),C(h)}if(p.length&&d.push(s(p)),void 0!==u.Result&&d.push(u.Result),0===n)return r.join("")+d.join(" ");for(var _=function(){return r.length>0&&" "===r[r.length-1]&&(r.pop(),!0)},m=0,i=0;i<d.length;i++){if(m+d[i].length>n&&d[i].includes("{")){m=function(e,o){for(var i of o.split(" "))if(i){if(e+i.length>n){for(;_();)e--;r.push(t),e=0}r.push(i),e+=i.length,r.push(" "),e++}return _()&&e--,e}(m,d[i]);continue}m+d[i].length>n&&0!==i?(" "===r[r.length-1]&&r.pop(),r.push(t),m=0):0!==i&&(r.push(" "),m++),r.push(d[i]),m+=d[i].length}return r.join("")},load_pgn:function(e,t){var n=void 0!==t&&"sloppy"in t&&t.sloppy;function r(e){return e.replace(/\\/g,"\\")}e=e.trim();var o="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",i=RegExp("^(\\[((?:"+r(o)+")|.)*\\])(?:\\s*"+r(o)+"){2}"),s=i.test(e)?i.exec(e)[1]:"";p(st);var a=function(e,t){for(var n="object"==typeof t&&"string"==typeof t.newline_char?t.newline_char:"\r?\n",o={},i=e.split(new RegExp(r(n))),s="",a="",l=0;l<i.length;l++){var u=/^\s*\[([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;s=i[l].replace(u,"$1"),a=i[l].replace(u,"$2"),sh(s).length>0&&(o[s]=a)}return o}(s,t),l="";for(var f in a)"fen"===f.toLowerCase()&&(l=a[f]),_([f,a[f]]);if(n){if(l&&!p(l,!0))return!1}else if("1"===a.SetUp&&!("FEN"in a&&p(a.FEN,!0)))return!1;for(var d=function(e){return e=e.replace(RegExp(r(o),"g")," "),`{${Array.from(e.slice(1,e.length-1)).map(function(e){return 128>e.charCodeAt(0)?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/\%/g,"").toLowerCase()}).join("")}}`},h=e.replace(s,"").replace(RegExp(`({[^}]*})+?|;([^${r(o)}]*)`,"g"),function(e,t,n){return void 0!==t?d(t):" "+d(`{${n.slice(1)}}`)}).replace(RegExp(r(o),"g")," "),m=/(\([^\(\)]+\))+?/g;m.test(h);)h=h.replace(m,"");var v=sh(h=(h=(h=h.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).split(new RegExp(/\s+/));v=v.join(",").replace(/,,+/g,",").split(",");for(var y="",b="",w=0;w<v.length;w++){var x=function(e){if(e.startsWith("{")&&e.endsWith("}")){var t;return 0==(t=e.slice(1,e.length-1)).length?"":decodeURIComponent("%"+t.match(/.{1,2}/g).join("%"))}}(v[w]);if(void 0!==x){c[g()]=x;continue}if(null==(y=P(v[w],n))){if(!(sn.indexOf(v[w])>-1))return!1;b=v[w]}else b="",C(y)}return b&&Object.keys(u).length&&!u.Result&&_(["Result",b]),!0},header:function(){return _(arguments)},turn:function(){return r},move:function(e,t){var n=void 0!==t&&"sloppy"in t&&t.sloppy,r=null;if("string"==typeof e)r=P(e,n);else if("object"==typeof e){for(var o=w(),i=0,s=o.length;i<s;i++)if(e.from===sd(o[i].from)&&e.to===sd(o[i].to)&&(!("promotion"in o[i])||e.promotion===o[i].promotion)){r=o[i];break}}if(!r)return null;var a=L(r);return C(r),a},undo:function(){var e=R();return e?L(e):null},clear:function(){return f()},put:function(e,t){return y(e,t)},get:function(e){return v(e)},ascii(){for(var e="   +------------------------+\n",n=su.a8;n<=su.h1;n++){if(0==(15&n)&&(e+=" "+"87654321"[n>>4]+" |"),null==t[n])e+=" . ";else{var r=t[n].type;e+=" "+(t[n].color===s_?r.toUpperCase():r.toLowerCase())+" "}n+1&136&&(e+="|\n",n+=8)}return e+"   +------------------------+\n     a  b  c  d  e  f  g  h"},remove:function(e){var r;return r=v(e),t[su[e]]=null,r&&"k"===r.type&&(n[r.color]=-1),m(g()),r},perft:function(e){return function e(t){for(var n=w({legal:!1}),o=0,i=r,s=0,a=n.length;s<a;s++)C(n[s]),!E(i)&&(t-1>0?o+=e(t-1):o++),R();return o}(e)},square_color:function(e){if(e in su){var t=su[e];return((t>>4)+(15&t))%2==0?"light":"dark"}return null},history:function(e){for(var t=[],n=[],r=void 0!==e&&("verbose"in e)&&e.verbose;l.length>0;)t.push(R());for(;t.length>0;){var o=t.pop();r?n.push(L(o)):n.push(x(o,w({legal:!0}))),C(o)}return n},get_comment:function(){return c[g()]},set_comment:function(e){c[g()]=e.replace("{","[").replace("}","]")},delete_comment:function(){var e=c[g()];return delete c[g()],e},get_comments:function(){return d(),Object.keys(c).map(function(e){return{fen:e,comment:c[e]}})},delete_comments:function(){return d(),Object.keys(c).map(function(e){var t=c[e];return delete c[e],{fen:e,comment:t}})}}}(),li={coordinates:!1,disableContextMenu:!0,addDimensionsCssVarsTo:document.getElementsByTagName("body")[0],movable:{color:"white",free:!1,dests:le(lo),showDests:!0},highlight:{lastMove:!0,check:!0},premovable:{enabled:!1},drawable:{enabled:!0},events:{insert(e){!function(e){let t=document.createElement("cg-resize");e.container.appendChild(t);let n=e=>{e.preventDefault();let t="touchstart"===e.type?"touchmove":"mousemove",n="touchstart"===e.type?"touchend":"mouseup",r=aZ(e),o=parseInt(window.getComputedStyle(document.body).getPropertyValue("---zoom")),i=o,s=e=>{let t=aZ(e);i=Math.round(Math.min(100,Math.max(0,o+(t[0]-r[0]+t[1]-r[1])/10))),document.body.style.setProperty("---zoom",i.toString()),window.dispatchEvent(new Event("resize"))};document.body.classList.add("resizing"),document.addEventListener(t,s),document.addEventListener(n,()=>{document.removeEventListener(t,s),document.body.classList.remove("resizing")},{once:!0})};t.addEventListener("touchstart",n,{passive:!1}),t.addEventListener("mousedown",n,{passive:!1})}(e)}}},ls=function(e,t){let n={pieces:ai(an),orientation:"white",turnColor:"white",coordinates:!0,coordinatesOnSquares:!1,ranksPosition:"right",autoCastle:!0,viewOnly:!1,disableContextMenu:!1,addPieceZIndex:!1,blockTouchScroll:!1,pieceKey:!1,trustAllEvents:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15},purple:{key:"purple",color:"#68217a",opacity:.65,lineWidth:10},pink:{key:"pink",color:"#ee2080",opacity:.5,lineWidth:10},white:{key:"white",color:"white",opacity:1,lineWidth:10}},prevSvgHash:""},hold:sk()};function r(){let t;let r="dom"in n?n.dom.unbind:void 0,o=function(e,t){let n,r,o,i;for(let n of(e.innerHTML="",e.classList.add("cg-wrap"),sy))e.classList.toggle("orientation-"+n,t.orientation===n);e.classList.toggle("manipulable",!t.viewOnly);let s=sU("cg-container");e.appendChild(s);let a=sU("cg-board");if(s.appendChild(a),t.drawable.visible&&((n=aI(aB("svg"),{class:"cg-shapes",viewBox:"-4 -4 8 8",preserveAspectRatio:"xMidYMid slice"})).appendChild(function(){let e=aB("defs"),t=aI(aB("filter"),{id:"cg-filter-blur"});return t.appendChild(aI(aB("feGaussianBlur"),{stdDeviation:"0.019"})),e.appendChild(t),e}()),n.appendChild(aB("g")),(r=aI(aB("svg"),{class:"cg-custom-svgs",viewBox:"-3.5 -3.5 8 8",preserveAspectRatio:"xMidYMid slice"})).appendChild(aB("g")),o=sU("cg-auto-pieces"),s.appendChild(n),s.appendChild(r),s.appendChild(o)),t.coordinates){let e="black"===t.orientation?" black":"",n="left"===t.ranksPosition?" left":"";if(t.coordinatesOnSquares){let r="white"===t.orientation?e=>e+1:e=>8-e;sb.forEach((t,o)=>s.appendChild(aF(sw.map(e=>t+e),"squares rank"+r(o)+e+n)))}else s.appendChild(aF(sw,"ranks"+e+n)),s.appendChild(aF(sb,"files"+e))}return t.draggable.enabled&&t.draggable.showGhost&&(sI(i=sU("piece","ghost"),!1),s.appendChild(i)),{board:a,container:s,wrap:e,ghost:i,svg:n,customSvg:r,autoPieces:o}}(e,n),i=function(e){let t;let n=()=>(void 0===t&&(t=e()),t);return n.clear=()=>{t=void 0},n}(()=>o.board.getBoundingClientRect()),s=e=>{if(!function(e){let t,n,r,o,i,s,a,l,u,c;let f=at(e),d=sP(e.dom.bounds()),p=e.dom.elements.board,h=e.pieces,g=e.animation.current,_=g?g.plan.anims:new Map,m=g?g.plan.fadings:new Map,v=e.draggable.current,y=function(e){var t,n,r;let o=new Map;if(e.lastMove&&e.highlight.lastMove)for(let t of e.lastMove)aX(o,t,"last-move");if(e.check&&e.highlight.check&&aX(o,e.check,"check"),e.selected&&(aX(o,e.selected,"selected"),e.movable.showDests)){let i=null===(t=e.movable.dests)||void 0===t?void 0:t.get(e.selected);if(i)for(let t of i)aX(o,t,"move-dest"+(e.pieces.has(t)?" oc":""));let s=null!==(r=null===(n=e.premovable.customDests)||void 0===n?void 0:n.get(e.selected))&&void 0!==r?r:e.premovable.dests;if(s)for(let t of s)aX(o,t,"premove-dest"+(e.pieces.has(t)?" oc":""))}let i=e.premovable.current;if(i)for(let e of i)aX(o,e,"current-premove");else e.predroppable.current&&aX(o,e.predroppable.current.key,"current-premove");let s=e.exploding;if(s)for(let e of s.keys)aX(o,e,"exploding"+s.stage);return e.highlight.custom&&e.highlight.custom.forEach((e,t)=>{aX(o,t,e)}),o}(e),b=new Set,w=new Set,x=new Map,A=new Map;for(n=p.firstChild;n;){if(t=n.cgKey,aK(n)){if(r=h.get(t),i=_.get(t),s=m.get(t),o=n.cgPiece,n.cgDragging&&(!v||v.orig!==t)&&(n.classList.remove("dragging"),sL(n,d(sS(t),f)),n.cgDragging=!1),!s&&n.cgFading&&(n.cgFading=!1,n.classList.remove("fading")),r){if(i&&n.cgAnimating&&o===aQ(r)){let e=sS(t);e[0]+=i[2],e[1]+=i[3],n.classList.add("anim"),sL(n,d(e,f))}else n.cgAnimating&&(n.cgAnimating=!1,n.classList.remove("anim"),sL(n,d(sS(t),f)),e.addPieceZIndex&&(n.style.zIndex=aV(sS(t),f)));o!==aQ(r)||s&&n.cgFading?s&&o===aQ(s)?(n.classList.add("fading"),n.cgFading=!0):aJ(x,o,n):b.add(t)}else aJ(x,o,n)}else if(aW(n)){let e=n.className;y.get(t)===e?w.add(t):aJ(A,e,n)}n=n.nextSibling}for(let[e,t]of y)if(!w.has(e)){c=(u=A.get(t))&&u.pop();let n=d(sS(e),f);if(c)c.cgKey=e,sL(c,n);else{let r=sU("square",t);r.cgKey=e,sL(r,n),p.insertBefore(r,p.firstChild)}}for(let[t,n]of h)if(i=_.get(t),!b.has(t)){if(l=(a=x.get(aQ(n)))&&a.pop()){l.cgKey=t,l.cgFading&&(l.classList.remove("fading"),l.cgFading=!1);let n=sS(t);e.addPieceZIndex&&(l.style.zIndex=aV(n,f)),i&&(l.cgAnimating=!0,l.classList.add("anim"),n[0]+=i[2],n[1]+=i[3]),sL(l,d(n,f))}else{let r=aQ(n),o=sU("piece",r),s=sS(t);o.cgPiece=r,o.cgKey=t,i&&(o.cgAnimating=!0,s[0]+=i[2],s[1]+=i[3]),sL(o,d(s,f)),e.addPieceZIndex&&(o.style.zIndex=aV(s,f)),p.appendChild(o)}}for(let t of x.values())aG(e,t);for(let t of A.values())aG(e,t)}(l),o.autoPieces){var t;t=o.autoPieces,function(e,t,n){let r=new Map,o=[];for(let t of e)r.set(t.hash,!1);let i=t.firstElementChild,s;for(;i;)s=i.getAttribute("cgHash"),r.has(s)?r.set(s,!0):o.push(i),i=i.nextElementSibling;for(let e of o)t.removeChild(e);for(let o of e)r.get(o.hash)||t.appendChild(n(o))}(l.drawable.autoShapes.filter(e=>e.piece).map(e=>({shape:e,hash:aY(e),current:!1})),t,e=>(function(e,{shape:t,hash:n},r){var o,i,s;let a=t.orig,l=null===(o=t.piece)||void 0===o?void 0:o.role,u=null===(i=t.piece)||void 0===i?void 0:i.color,c=null===(s=t.piece)||void 0===s?void 0:s.scale,f=sU("piece",`${l} ${u}`);return f.setAttribute("cgHash",n),f.cgKey=a,f.cgScale=c,sB(f,sP(r)(sS(a),at(e)),c),f})(l,e,l.dom.bounds()))}!e&&o.svg&&function(e,t,n){var r;let o=e.drawable,i=o.current,s=i&&i.mouseSq?i:void 0,a=new Map,l=e.dom.bounds(),u=o.autoShapes.filter(e=>!e.piece);for(let t of o.shapes.concat(u).concat(s?[s]:[])){if(!t.dest)continue;let n=null!==(r=a.get(t.dest))&&void 0!==r?r:new Set,o=aU(aP(sS(t.orig),e.orientation),l),i=aU(aP(sS(t.dest),e.orientation),l);n.add(aj(o,i)),a.set(t.dest,n)}let c=o.shapes.concat(u).map(e=>({shape:e,current:!1,hash:aO(e,aL(e.dest,a),!1,l)}));s&&c.push({shape:s,current:!0,hash:aO(s,aL(s.dest,a),!0,l)});let f=c.map(e=>e.hash).join(";");f!==e.drawable.prevSvgHash&&(e.drawable.prevSvgHash=f,function(e,t,n){var r;let o;let i=new Map;for(let n of t.filter(e=>e.shape.dest&&e.shape.brush))o=aM(e.brushes[n.shape.brush],n.shape.modifiers),(null===(r=n.shape.modifiers)||void 0===r?void 0:r.hilite)&&i.set(aR(o).key,aR(o)),i.set(o.key,o);let s=new Set,a=n.firstElementChild;for(;a;)s.add(a.getAttribute("cgKey")),a=a.nextElementSibling;for(let[e,t]of i.entries())s.has(e)||n.appendChild(function(e){let t=aI(aB("marker"),{id:"arrowhead-"+e.key,orient:"auto",overflow:"visible",markerWidth:4,markerHeight:4,refX:e.key.startsWith("hilite")?1.86:2.05,refY:2});return t.appendChild(aI(aB("path"),{d:"M0,0 V4 L3,2 Z",fill:e.color})),t.setAttribute("cgKey",e.key),t}(t))}(o,c,t.querySelector("defs")),function(e,t,n,r){let o=new Map;for(let t of e)o.set(t.hash,!1);for(let e of[t,n]){let t=[],n=e.firstElementChild,r;for(;n;)r=n.getAttribute("cgHash"),o.has(r)?o.set(r,!0):t.push(n),n=n.nextElementSibling;for(let n of t)e.removeChild(n)}for(let i of e.filter(e=>!o.get(e.hash)))for(let e of r(i))e.isCustom?n.appendChild(e.el):t.appendChild(e.el)}(c,t.querySelector("g"),n.querySelector("g"),t=>(function(e,{shape:t,current:n,hash:r},o,i,s){var a,l;let u=aU(aP(sS(t.orig),e.orientation),s),c=t.dest?aU(aP(sS(t.dest),e.orientation),s):u,f=t.brush&&aM(o[t.brush],t.modifiers),d=i.get(t.dest),p=[];if(f){let e=aI(aB("g"),{cgHash:r});p.push({el:e}),u[0]!==c[0]||u[1]!==c[1]?e.appendChild(function(e,t,n,r,o,i){var s;function a(s){var a;let l=(i&&!o?20:10)/64,u=r[0]-n[0],c=Math.atan2(r[1]-n[1],u),f=Math.cos(c)*l,d=Math.sin(c)*l;return aI(aB("line"),{stroke:s?aR(t).color:t.color,"stroke-width":(t.lineWidth||10)*(o?.85:1)/64+(s?.04:0),"stroke-linecap":"round","marker-end":`url(#arrowhead-${s?aR(t).key:t.key})`,opacity:(null===(a=e.modifiers)||void 0===a?void 0:a.hilite)?1:aN(t,o),x1:n[0],y1:n[1],x2:r[0]-f,y2:r[1]-d})}if(!(null===(s=e.modifiers)||void 0===s?void 0:s.hilite))return a(!1);let l=aB("g"),u=aI(aB("g"),{filter:"url(#cg-filter-blur)"});return u.appendChild(function(e,t){let n={from:[Math.floor(Math.min(e[0],t[0])),Math.floor(Math.min(e[1],t[1]))],to:[Math.ceil(Math.max(e[0],t[0])),Math.ceil(Math.max(e[1],t[1]))]};return aI(aB("rect"),{x:n.from[0],y:n.from[1],width:n.to[0]-n.from[0],height:n.to[1]-n.from[1],fill:"none",stroke:"none"})}(n,r)),u.appendChild(a(!0)),l.appendChild(u),l.appendChild(a(!1)),l}(t,f,u,c,n,aL(t.dest,i))):e.appendChild(function(e,t,n,r){let o=[3/64,4/64],i=(r.width+r.height)/(4*Math.max(r.width,r.height));return aI(aB("circle"),{stroke:e.color,"stroke-width":o[n?0:1],fill:"none",opacity:aN(e,n),cx:t[0],cy:t[1],r:i-o[1]/2})}(o[t.brush],u,n,s))}if(t.label){let e=t.label;null!==(a=e.fill)&&void 0!==a||(e.fill=t.brush&&o[t.brush].color);let n=t.brush?void 0:"tr";p.push({el:function(e,t,n,r,o,i){var s;let a=.4*.75**e.text.length,l=aD(n,r,o),u="tr"===i?.4:0,c=aI(aB("g"),{transform:`translate(${l[0]+u},${l[1]-u})`,cgHash:t});c.appendChild(aI(aB("circle"),{r:.2,"fill-opacity":i?1:.8,"stroke-opacity":i?1:.7,"stroke-width":.03,fill:null!==(s=e.fill)&&void 0!==s?s:"#666",stroke:"white"}));let f=aI(aB("text"),{"font-size":a,"font-family":"Noto Sans","text-anchor":"middle",fill:"white",y:.13*.75**e.text.length});return f.innerHTML=e.text,c.appendChild(f),c}(e,r,u,c,d,n),isCustom:!0})}if(t.customSvg){let e=null!==(l=t.customSvg.center)&&void 0!==l?l:"orig",[n,o]="label"===e?aD(u,c,d).map(e=>e-.5):"dest"===e?c:u,i=aI(aB("g"),{transform:`translate(${n},${o})`,cgHash:r});i.innerHTML=`<svg width="1" height="1" viewBox="0 0 100 100">${t.customSvg.html}</svg>`,p.push({el:i,isCustom:!0})}return p})(e,t,o.brushes,a,l)))}(l,o.svg,o.customSvg)},a=()=>{az(l),function(e){let t=at(e),n=sP(e.dom.bounds()),r=e.dom.elements.board.firstChild;for(;r;)(aK(r)&&!r.cgAnimating||aW(r))&&sL(r,n(sS(r.cgKey),t)),r=r.nextSibling}(l),o.autoPieces&&function(e){var t;let n=at(e),r=sP(e.dom.bounds()),o=null===(t=e.dom.elements.autoPieces)||void 0===t?void 0:t.firstChild;for(;o;)sB(o,r(sS(o.cgKey),n),o.cgScale),o=o.nextSibling}(l)},l=n;return l.dom={elements:o,bounds:i,redraw:(t=!1,()=>{t||(t=!0,requestAnimationFrame(()=>{s(),t=!1}))}),redrawNow:s,unbind:r},l.drawable.prevSvgHash="",az(l),s(!1),!function(e,t){let n=e.dom.elements.board;if("ResizeObserver"in window&&new ResizeObserver(t).observe(e.dom.elements.wrap),(e.disableContextMenu||e.drawable.enabled)&&n.addEventListener("contextmenu",e=>e.preventDefault()),e.viewOnly)return;let r=aq(e);n.addEventListener("touchstart",r,{passive:!1}),n.addEventListener("mousedown",r,{passive:!1})}(l,a),r||(l.dom.unbind=function(e,t){let n=[];if("ResizeObserver"in window||n.push(a$(document.body,"chessground.resize",t)),!e.viewOnly){let t=aH(e,aw,a_),r=aH(e,ax,am);for(let e of["touchmove","mousemove"])n.push(a$(document,e,t));for(let e of["touchend","mouseup"])n.push(a$(document,e,r));let o=()=>e.dom.bounds.clear();n.push(a$(document,"scroll",o,{capture:!0,passive:!0})),n.push(a$(window,"resize",o,{passive:!0}))}return()=>n.forEach(e=>e())}(l,a)),l.events.insert&&l.events.insert(o),l}return aa(n,t||{}),function(e,t){function n(){e.orientation=sO(e.orientation),e.animation.current=e.draggable.current=e.selected=void 0,t()}return{set(t){t.orientation&&t.orientation!==e.orientation&&n(),as(e,t),(t.fen?ac:af)(e=>aa(e,t),e)},state:e,getFen:()=>{var t;return t=e.pieces,sx.map(e=>sb.map(n=>{let r=t.get(n+e);if(!r)return"1";{let e=ao[r.role];return"white"===r.color&&(e=e.toUpperCase()),r.promoted&&(e+="~"),e}}).join("")).join("/").replace(/1{2,}/g,e=>e.length.toString())},toggleOrientation:n,setPieces(t){ac(e=>(function(e,t){for(let[n,r]of t)r?e.pieces.set(n,r):e.pieces.delete(n)})(e,t),e)},selectSquare(t,n){t?ac(e=>s1(e,t,n),e):e.selected&&(s5(e),e.dom.redraw())},move(t,n){ac(e=>sX(e,t,n),e)},newPiece(t,n){ac(e=>sJ(e,t,n),e)},playPremove(){if(e.premovable.current){if(ac(s4,e))return!0;e.dom.redraw()}return!1},playPredrop(t){if(e.predroppable.current){let n=function(e,t){let n=e.predroppable.current,r=!1;if(!n)return!1;if(t(n)){let t={role:n.role,color:e.movable.color};sJ(e,t,n.key)&&(sG(e.movable.events.afterNewPiece,n.role,n.key,{premove:!1,predrop:!0}),r=!0)}return sQ(e),r}(e,t);return e.dom.redraw(),n}return!1},cancelPremove(){af(sV,e)},cancelPredrop(){af(sQ,e)},cancelMove(){af(e=>{s7(e),aA(e)},e)},stop(){af(e=>{s9(e),aA(e)},e)},explode(t){e.exploding={stage:1,keys:t},e.dom.redraw(),setTimeout(()=>{aT(e,2),setTimeout(()=>aT(e,void 0),120)},120)},setAutoShapes(t){af(e=>e.drawable.autoShapes=t,e)},setShapes(t){af(e=>e.drawable.shapes=t,e)},getKeyAtDomPos:t=>ae(t,at(e),e.dom.bounds()),redrawAll:t,dragNewPiece(t,n,r){!function(e,t,n,r){e.pieces.set("a0",t),e.dom.redraw();let o=sM(n);e.draggable.current={orig:"a0",piece:t,origPos:o,pos:o,started:!0,element:()=>aS(e,"a0"),originTarget:n.target,newPiece:!0,force:!!r,keyHasChanged:!1},ab(e)}(e,t,n,r)},destroy(){s9(e),e.dom.unbind&&e.dom.unbind(),e.dom.destroyed=!0}}}(r(),r)}(document.getElementById("chessground"),li);ls.set({movable:{events:{after:lr(ls,lo,500)}}}),oq.store("settings",{showSettings:!1,playerColor:"white",selectedDatabase:"lichess",selectedTimeControls:["blitz","rapid","classical"],selectedRatings:["1600","1800","2000"],showCoordinates:!1,showPossibleMoves:!0,highlightLastMove:!0,highlightChecks:!0,allowDrawing:!0,enableSounds:!0,startingFEN:a3,isSettingUpBoard:!1,toggleSettings(){this.showSettings=!this.showSettings,ls.redrawAll()},async selectColor(e){oq.store("state").isPromoting&&(oq.store("state").promotionResolve(!1),oq.store("state").isPromoting=!1,oq.store("state").lockLichessOpeningPlay=!1),this.playerColor=e,ls.set({fen:lo.fen(),turnColor:lt(lo),orientation:this.playerColor,movable:{color:void 0,dests:void 0}}),this.isSettingUpBoard||this.playerColor===lt(lo)?ls.set({movable:{color:lt(lo),dests:le(lo)}}):await lr(ls,lo,500)()},selectDatabase(e){this.selectedDatabase=e,ls.redrawAll()},toggleTimeControl(e){let t=this.selectedTimeControls.indexOf(e);t>-1?this.selectedTimeControls.splice(t,1):this.selectedTimeControls.push(e),ls.redrawAll()},toggleRating(e){let t=this.selectedRatings.indexOf(e);t>-1?this.selectedRatings.splice(t,1):this.selectedRatings.push(e),ls.redrawAll()},toggleShowCoordinates(){this.showCoordinates=!this.showCoordinates,ls.set({coordinates:this.showCoordinates}),ls.redrawAll()},toggleShowPossibleMoves(){this.showPossibleMoves=!this.showPossibleMoves,ls.set({movable:{showDests:this.showPossibleMoves}}),ls.redrawAll()},toggleHighlightLastMove(){this.highlightLastMove=!this.highlightLastMove,ls.set({highlight:{lastMove:this.highlightLastMove}}),ls.redrawAll()},toggleHighlightChecks(){this.highlightChecks=!this.highlightChecks,ls.set({highlight:{check:this.highlightChecks}}),ls.redrawAll()},toggleAllowDrawing(){this.allowDrawing=!this.allowDrawing,ls.set({drawable:{enabled:this.allowDrawing,visible:this.allowDrawing}}),ls.redrawAll()},toggleEnableSounds(){this.enableSounds=!this.enableSounds},resetStartingFENtoDefault(){this.startingFEN=a3},toggleSetupBoard(){(oq.store("state").isPromoting&&(oq.store("state").promotionResolve(!1),oq.store("state").isPromoting=!1,oq.store("state").lockLichessOpeningPlay=!1),ls.set({fen:lo.fen(),turnColor:lt(lo)}),this.isSettingUpBoard=!this.isSettingUpBoard,this.isSettingUpBoard)?(ls.set({movable:{color:lt(lo),dests:le(lo),events:{after:async(e,t)=>{let n;"p"===lo.get(e).type&&"18".includes(t[1])&&(oq.store("state").isPromoting=!0,n=await ln(t),oq.store("state").isPromoting=!1),lo.move({from:e,to:t,promotion:n}),oq.store("settings").enableSounds&&(lo.history().pop().includes("x")?a7.play():a4.play()),ls.set({fen:lo.fen(),turnColor:lt(lo),check:lo.in_check(),movable:{color:lt(lo),dests:le(lo)}}),oq.store("state").updateState(),oq.store("settings").startingFEN=lo.fen()}}}}),this.startingFEN=lo.fen(),oq.store("state").noGameFound=!1):oq.store("settings").playerColor===lt(lo)?ls.set({movable:{color:lt(lo),dests:le(lo),events:{after:lr(ls,lo,500)}}}):(ls.set({movable:{color:void 0,dests:void 0,events:{after:lr(ls,lo,500)}}}),lr(ls,lo,500)())}}),oq.store("state",{pgn:"",fen:lo.fen(),noGameFound:!1,isThinking:!1,isPromoting:!1,promotionColor:void 0,promotionResolve:void 0,promotionLeft:"0%",promotionTop:["0%","0%","0%","0%"],lockLichessOpeningPlay:!1,updateState(){this.pgn=lo.pgn({max_width:12}),this.fen=lo.fen()},async resetState(){oq.store("settings").isSettingUpBoard=!1;let e=oq.store("settings").startingFEN,t=oq.store("settings").playerColor;lo.reset(),lo.load(e)||(oq.store("settings").startingFEN=a3),this.pgn="",this.fen=lo.fen(),this.noGameFound=!1,ls.set({fen:this.fen,turnColor:lt(lo),lastMove:void 0,check:lo.in_check(),selected:void 0,movable:{color:void 0,dests:void 0}}),t===lt(lo)?ls.set({movable:{color:lt(lo),dests:le(lo),events:{after:lr(ls,lo,500)}}}):await lr(ls,lo,500)()},undoLastMove(){lo.undo(),this.updateState(),oq.store("settings").startingFEN=lo.fen(),ls.set({fen:this.fen,turnColor:lt(lo),check:lo.in_check(),lastMove:void 0,selected:void 0,movable:{color:lt(lo),dests:le(lo)}})},async copyPGNtoClipboard(){await navigator.clipboard.writeText(this.pgn)},async copyFENtoClipboard(){await navigator.clipboard.writeText(this.fen)},getLichessAnalysisURL(){let e=oq.store("settings").playerColor;return"https://lichess.org/analysis/pgn/"+encodeURIComponent(this.pgn.replaceAll("\n"," "))+"?color="+e},async onPasteFEN(){if(this.fen!==lo.fen()){if(!lo.load(this.fen)){this.fen="Invalid FEN";return}oq.store("state").isPromoting&&(oq.store("state").promotionResolve(!1),oq.store("state").isPromoting=!1,oq.store("state").lockLichessOpeningPlay=!1),this.pgn="",this.noGameFound=!1,ls.set({fen:this.fen,check:lo.in_check(),turnColor:lt(lo),lastMove:void 0,selected:void 0,movable:{color:void 0,dests:void 0}}),oq.store("settings").playerColor===lt(lo)?ls.set({movable:{color:lt(lo),dests:le(lo)}}):await lr(ls,lo,500)()}}}),oq.start();
//# sourceMappingURL=index.3d93c2f6.js.map
